{
 "Description": "ToyApi serverless infrastructure for dev environment",
 "Resources": {
  "ItemsTable5AAC2C46": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "PK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "SK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "userId",
      "AttributeType": "S"
     },
     {
      "AttributeName": "createdAt",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "UserIndex",
      "KeySchema": [
       {
        "AttributeName": "userId",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "createdAt",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "PK",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "SK",
      "KeyType": "RANGE"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "TableName": "toyapi-dev-items",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ItemsTable/Resource"
   }
  },
  "UserPool6BA7E5F2": {
   "Type": "AWS::Cognito::UserPool",
   "Properties": {
    "AccountRecoverySetting": {
     "RecoveryMechanisms": [
      {
       "Name": "verified_email",
       "Priority": 1
      }
     ]
    },
    "AdminCreateUserConfig": {
     "AllowAdminCreateUserOnly": false
    },
    "AliasAttributes": [
     "email"
    ],
    "AutoVerifiedAttributes": [
     "email"
    ],
    "EmailVerificationMessage": "The verification code to your new account is {####}",
    "EmailVerificationSubject": "Verify your new account",
    "Policies": {
     "PasswordPolicy": {
      "MinimumLength": 8,
      "RequireLowercase": true,
      "RequireNumbers": true,
      "RequireSymbols": false,
      "RequireUppercase": true
     }
    },
    "Schema": [
     {
      "Mutable": true,
      "Name": "email",
      "Required": true
     }
    ],
    "SmsVerificationMessage": "The verification code to your new account is {####}",
    "UserPoolName": "toyapi-dev-users",
    "UserPoolTags": {
     "CostCenter": "ToyApi-dev",
     "Environment": "dev",
     "Owner": "thismakesmehappy",
     "Project": "ToyApi"
    },
    "VerificationMessageTemplate": {
     "DefaultEmailOption": "CONFIRM_WITH_CODE",
     "EmailMessage": "The verification code to your new account is {####}",
     "EmailSubject": "Verify your new account",
     "SmsMessage": "The verification code to your new account is {####}"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/UserPool/Resource"
   }
  },
  "UserPoolClient2F5918F7": {
   "Type": "AWS::Cognito::UserPoolClient",
   "Properties": {
    "AccessTokenValidity": 60,
    "AllowedOAuthFlows": [
     "implicit",
     "code"
    ],
    "AllowedOAuthFlowsUserPoolClient": true,
    "AllowedOAuthScopes": [
     "profile",
     "phone",
     "email",
     "openid",
     "aws.cognito.signin.user.admin"
    ],
    "CallbackURLs": [
     "https://example.com"
    ],
    "ClientName": "toyapi-dev-client",
    "ExplicitAuthFlows": [
     "ALLOW_USER_PASSWORD_AUTH",
     "ALLOW_ADMIN_USER_PASSWORD_AUTH",
     "ALLOW_USER_SRP_AUTH",
     "ALLOW_REFRESH_TOKEN_AUTH"
    ],
    "GenerateSecret": false,
    "IdTokenValidity": 60,
    "RefreshTokenValidity": 43200,
    "SupportedIdentityProviders": [
     "COGNITO"
    ],
    "TokenValidityUnits": {
     "AccessToken": "minutes",
     "IdToken": "minutes",
     "RefreshToken": "minutes"
    },
    "UserPoolId": {
     "Ref": "UserPool6BA7E5F2"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/UserPoolClient/Resource"
   }
  },
  "PublicFunctionLogGroup0D02ACFE": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-publicfunction",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/PublicFunctionLogGroup/Resource"
   }
  },
  "PublicFunctionServiceRole3180614D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/PublicFunction/ServiceRole/Resource"
   }
  },
  "PublicFunctionServiceRoleDefaultPolicyA5AE747D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ItemsTable5AAC2C46",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ItemsTable5AAC2C46",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "PublicFunctionServiceRoleDefaultPolicyA5AE747D",
    "Roles": [
     {
      "Ref": "PublicFunctionServiceRole3180614D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/PublicFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "PublicFunction8C206ECA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Handles public API endpoints (dev)",
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "ItemsTable5AAC2C46"
      },
      "ENVIRONMENT": "dev",
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-publicfunction",
    "Handler": "co.thismakesmehappy.toyapi.service.PublicHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "PublicFunctionServiceRole3180614D",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 30
   },
   "DependsOn": [
    "PublicFunctionServiceRoleDefaultPolicyA5AE747D",
    "PublicFunctionServiceRole3180614D"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/PublicFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "AuthFunctionLogGroupE9642A58": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-authfunction",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/AuthFunctionLogGroup/Resource"
   }
  },
  "AuthFunctionServiceRole87A7A68C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/AuthFunction/ServiceRole/Resource"
   }
  },
  "AuthFunctionServiceRoleDefaultPolicy4198AD5B": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ItemsTable5AAC2C46",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ItemsTable5AAC2C46",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "cognito-idp:AdminCreateUser",
        "cognito-idp:AdminGetUser",
        "cognito-idp:AdminInitiateAuth",
        "cognito-idp:AdminSetUserPassword"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "UserPool6BA7E5F2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "AuthFunctionServiceRoleDefaultPolicy4198AD5B",
    "Roles": [
     {
      "Ref": "AuthFunctionServiceRole87A7A68C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/AuthFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "AuthFunctionA1CD5E0F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Handles authentication endpoints (dev)",
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "ItemsTable5AAC2C46"
      },
      "ENVIRONMENT": "dev",
      "USER_POOL_ID": {
       "Ref": "UserPool6BA7E5F2"
      },
      "USER_POOL_CLIENT_ID": {
       "Ref": "UserPoolClient2F5918F7"
      },
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-authfunction",
    "Handler": "co.thismakesmehappy.toyapi.service.AuthHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "AuthFunctionServiceRole87A7A68C",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 30
   },
   "DependsOn": [
    "AuthFunctionServiceRoleDefaultPolicy4198AD5B",
    "AuthFunctionServiceRole87A7A68C"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/AuthFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ItemsFunctionLogGroup8321C469": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-itemsfunction",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ItemsFunctionLogGroup/Resource"
   }
  },
  "ItemsFunctionServiceRoleC323889C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ItemsFunction/ServiceRole/Resource"
   }
  },
  "ItemsFunctionServiceRoleDefaultPolicy72D40A1B": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ItemsTable5AAC2C46",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ItemsTable5AAC2C46",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "cognito-idp:AdminCreateUser",
        "cognito-idp:AdminGetUser",
        "cognito-idp:AdminInitiateAuth",
        "cognito-idp:AdminSetUserPassword"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "UserPool6BA7E5F2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ItemsFunctionServiceRoleDefaultPolicy72D40A1B",
    "Roles": [
     {
      "Ref": "ItemsFunctionServiceRoleC323889C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ItemsFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ItemsFunction736859B1": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Handles items CRUD operations (dev)",
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "ItemsTable5AAC2C46"
      },
      "ENVIRONMENT": "dev",
      "USER_POOL_ID": {
       "Ref": "UserPool6BA7E5F2"
      },
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-itemsfunction",
    "Handler": "co.thismakesmehappy.toyapi.service.ItemsHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ItemsFunctionServiceRoleC323889C",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 30
   },
   "DependsOn": [
    "ItemsFunctionServiceRoleDefaultPolicy72D40A1B",
    "ItemsFunctionServiceRoleC323889C"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ItemsFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "DeveloperFunctionLogGroup9CAE19C1": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-developerfunction",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperFunctionLogGroup/Resource"
   }
  },
  "DeveloperFunctionServiceRoleCE53D832": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperFunction/ServiceRole/Resource"
   }
  },
  "DeveloperFunctionServiceRoleDefaultPolicy6FEA04B0": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ItemsTable5AAC2C46",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ItemsTable5AAC2C46",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "apigateway:DELETE",
        "apigateway:GET",
        "apigateway:POST",
        "apigateway:PUT"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:apigateway:us-east-1::/apikeys*",
        "arn:aws:apigateway:us-east-1::/restapis*",
        "arn:aws:apigateway:us-east-1::/usageplans*"
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "DeveloperFunctionServiceRoleDefaultPolicy6FEA04B0",
    "Roles": [
     {
      "Ref": "DeveloperFunctionServiceRoleCE53D832"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "DeveloperFunction4CFB9C2E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Handles developer API key management (dev)",
    "Environment": {
     "Variables": {
      "API_NAME_PREFIX": "toyapi-dev",
      "TABLE_NAME": {
       "Ref": "ItemsTable5AAC2C46"
      },
      "ENVIRONMENT": "dev",
      "USAGE_PLAN_PREFIX": "toyapi-dev-developer-plan",
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-developerfunction",
    "Handler": "co.thismakesmehappy.toyapi.service.DeveloperHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "DeveloperFunctionServiceRoleCE53D832",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 30
   },
   "DependsOn": [
    "DeveloperFunctionServiceRoleDefaultPolicy6FEA04B0",
    "DeveloperFunctionServiceRoleCE53D832"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ToyApi351408CF": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "ToyApi REST API (dev)",
    "Name": "toyapi-dev-api",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Resource"
   }
  },
  "ToyApiCloudWatchRole7CDBF9E7": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/CloudWatchRole/Resource"
   }
  },
  "ToyApiAccountBDCDD152": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "ToyApiCloudWatchRole7CDBF9E7",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "ToyApi351408CF"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Account"
   }
  },
  "ToyApiDeployment5DE889CB159a20363ee61e6ed33994bc0b10a73e": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "ToyApi REST API (dev)",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "DependsOn": [
    "CognitoAuthorizerF3215DBC",
    "MediaTypeBodyValidatorFBEED57E",
    "SignatureAuthorizer270794DB",
    "ToyApiapiauthloginOPTIONS308155C4",
    "ToyApiapiauthloginPOSTECCA09F8",
    "ToyApiapiauthloginD7B874CC",
    "ToyApiapiauthmessageGET17A8F775",
    "ToyApiapiauthmessageOPTIONS65134A2A",
    "ToyApiapiauthmessage2E855AE6",
    "ToyApiapiauthOPTIONS9CA03008",
    "ToyApiapiauth5487A32D",
    "ToyApiapiauthuseruserIdmessageGETBA8337E8",
    "ToyApiapiauthuseruserIdmessageOPTIONSAE95CEA1",
    "ToyApiapiauthuseruserIdmessageC41ED715",
    "ToyApiapiauthuseruserIdOPTIONS333B0E0C",
    "ToyApiapiauthuseruserId3096771D",
    "ToyApiapiauthuserOPTIONS2C52F7C8",
    "ToyApiapiauthuser320DB207",
    "ToyApiapiitemsidDELETEA8B3B38F",
    "ToyApiapiitemsidGET625A278A",
    "ToyApiapiitemsidOPTIONS6C58BB10",
    "ToyApiapiitemsidPUTD24A58A0",
    "ToyApiapiitemsid304E5CED",
    "ToyApiapiitemsbatchDELETE6C51553E",
    "ToyApiapiitemsbatchOPTIONSD59B45A8",
    "ToyApiapiitemsbatchPOSTC83E6693",
    "ToyApiapiitemsbatch9244B6A3",
    "ToyApiapiitemsGET8C1E9317",
    "ToyApiapiitemsOPTIONSF878AAE5",
    "ToyApiapiitemsPOSTB0DA7087",
    "ToyApiapiitems8918D000",
    "ToyApiapiitemssearchGETEE81687A",
    "ToyApiapiitemssearchOPTIONS27A3B2B0",
    "ToyApiapiitemssearch4C196465",
    "ToyApiapiOPTIONS8448623C",
    "ToyApiapipublicmessageGETC065FFD8",
    "ToyApiapipublicmessageOPTIONSC668549A",
    "ToyApiapipublicmessage705C3CBE",
    "ToyApiapipublicOPTIONS357CA556",
    "ToyApiapipublicBAE45D81",
    "ToyApiapi89C0BF00",
    "ToyApiauthloginOPTIONS8AA0E46F",
    "ToyApiauthloginPOST4FB0565A",
    "ToyApiauthlogin0A588AB9",
    "ToyApiauthmessageGET855425A0",
    "ToyApiauthmessageOPTIONS974D23A1",
    "ToyApiauthmessageA7CC39BD",
    "ToyApiauthOPTIONSC0468BF4",
    "ToyApiauthB57830EF",
    "ToyApiauthuseruserIdmessageGETA4953C09",
    "ToyApiauthuseruserIdmessageOPTIONSFFAC31FF",
    "ToyApiauthuseruserIdmessage9EC415FC",
    "ToyApiauthuseruserIdOPTIONS8B1D102C",
    "ToyApiauthuseruserIdF80AAD91",
    "ToyApiauthuserOPTIONSA0FB34C1",
    "ToyApiauthuserF2BC53E1",
    "ToyApideveloperapikeykeyIdDELETEE52CC075",
    "ToyApideveloperapikeykeyIdOPTIONSF52CD252",
    "ToyApideveloperapikeykeyId6DF3660F",
    "ToyApideveloperapikeyOPTIONSE17F6EC8",
    "ToyApideveloperapikeyPOSTA6B30817",
    "ToyApideveloperapikey80E6A461",
    "ToyApideveloperapikeysGET5550ABF6",
    "ToyApideveloperapikeysOPTIONSFB794566",
    "ToyApideveloperapikeys9588C797",
    "ToyApideveloperOPTIONSB3D5F947",
    "ToyApideveloperprofileGETC7805BA7",
    "ToyApideveloperprofileOPTIONSD80306DB",
    "ToyApideveloperprofilePUT7C84DE84",
    "ToyApideveloperprofileFCE01605",
    "ToyApideveloperregisterOPTIONSAA83300A",
    "ToyApideveloperregisterPOSTF7E67475",
    "ToyApideveloperregister1BA6DBAE",
    "ToyApideveloperAAE543C0",
    "ToyApiitemsidDELETE0A96FBB4",
    "ToyApiitemsidGET90AAD390",
    "ToyApiitemsidOPTIONSECDC8BA4",
    "ToyApiitemsidPUT66D755A2",
    "ToyApiitemsid0E11AEFB",
    "ToyApiitemsGET497B2C8E",
    "ToyApiitemsOPTIONSDCB2E79A",
    "ToyApiitemsPOSTB7E73816",
    "ToyApiitems30D054A6",
    "ToyApiOPTIONSF3984785",
    "ToyApipublicmessageGETE013191F",
    "ToyApipublicmessageOPTIONS419F5A4F",
    "ToyApipublicmessage950797E4",
    "ToyApipublicOPTIONS4F773EFF",
    "ToyApipublicB3E4EAE9",
    "ToyApisecureadminconfigGETB99745CD",
    "ToyApisecureadminconfigOPTIONS6DB671D1",
    "ToyApisecureadminconfigPUTAD6ED9C2",
    "ToyApisecureadminconfigFBCD4715",
    "ToyApisecureadminmetricsGETF275A503",
    "ToyApisecureadminmetricsOPTIONS871E8736",
    "ToyApisecureadminmetricsA335BDB6",
    "ToyApisecureadminOPTIONS516F503C",
    "ToyApisecureadmin62F67807",
    "ToyApisecureadminusersuserIdDELETE84C92759",
    "ToyApisecureadminusersuserIdOPTIONS06ACA9E9",
    "ToyApisecureadminusersuserIdF34A0D06",
    "ToyApisecureadminusersGETECB265AE",
    "ToyApisecureadminusersOPTIONS0A6C435D",
    "ToyApisecureadminusersPOSTEC8E1B2A",
    "ToyApisecureadminusersFC2889D7",
    "ToyApisecureexportauditlogsGETD7F3A959",
    "ToyApisecureexportauditlogsOPTIONSF4052AE1",
    "ToyApisecureexportauditlogs6B554C8A",
    "ToyApisecureexportdataOPTIONS51FE49C5",
    "ToyApisecureexportdataPOSTE7354E37",
    "ToyApisecureexportdata222D618D",
    "ToyApisecureexportOPTIONS11A22B4D",
    "ToyApisecureexportDA140089",
    "ToyApisecureOPTIONS9300E2B7",
    "ToyApisecureD5A81777",
    "ToyApiv1authloginOPTIONS3D8D10AD",
    "ToyApiv1authloginPOSTE868FDF3",
    "ToyApiv1authloginB5ECCBD7",
    "ToyApiv1authmessageGET3397B722",
    "ToyApiv1authmessageOPTIONSA9F60A94",
    "ToyApiv1authmessage8CA3DE74",
    "ToyApiv1authOPTIONSC3C9C2BA",
    "ToyApiv1authB25B3208",
    "ToyApiv1authuseruserIdmessageGET30285F4D",
    "ToyApiv1authuseruserIdmessageOPTIONS0421FDE0",
    "ToyApiv1authuseruserIdmessage960F1F17",
    "ToyApiv1authuseruserIdOPTIONS9281F822",
    "ToyApiv1authuseruserIdFDAFBC5B",
    "ToyApiv1authuserOPTIONSAF8868B8",
    "ToyApiv1authuser9BE82313",
    "ToyApiv1itemsidDELETEF8155427",
    "ToyApiv1itemsidGET50B9BA8E",
    "ToyApiv1itemsidOPTIONS735FA566",
    "ToyApiv1itemsidPUT3A11D7F0",
    "ToyApiv1itemsid432C8BB6",
    "ToyApiv1itemsGET5F85FB7E",
    "ToyApiv1itemsOPTIONS70D83B6B",
    "ToyApiv1itemsPOST65560D1A",
    "ToyApiv1itemsBC133551",
    "ToyApiv1OPTIONS150F97C1",
    "ToyApiv1publicmessageGETC0B745F6",
    "ToyApiv1publicmessageOPTIONS31CA1C27",
    "ToyApiv1publicmessage5502DB27",
    "ToyApiv1publicOPTIONSDA788BFB",
    "ToyApiv1publicC35BF56A",
    "ToyApiv1046ED3EF",
    "ToyApiv2authloginOPTIONSF6B637EC",
    "ToyApiv2authloginPOST175818F9",
    "ToyApiv2authloginB96F6D37",
    "ToyApiv2authmessageGET5D031E1B",
    "ToyApiv2authmessageOPTIONSDC8D60EC",
    "ToyApiv2authmessage7DD7A7DF",
    "ToyApiv2authOPTIONS726A9CCF",
    "ToyApiv2authAF64A6FF",
    "ToyApiv2authuseruserIdmessageGETBC16B543",
    "ToyApiv2authuseruserIdmessageOPTIONS1923A76F",
    "ToyApiv2authuseruserIdmessage27B9C204",
    "ToyApiv2authuseruserIdOPTIONS79CC3817",
    "ToyApiv2authuseruserIdB766FF6C",
    "ToyApiv2authuserOPTIONSB9AFF3E0",
    "ToyApiv2authuserBBCCE87D",
    "ToyApiv2itemsidDELETE79D9A435",
    "ToyApiv2itemsidGET7827A714",
    "ToyApiv2itemsidOPTIONSDCC0074E",
    "ToyApiv2itemsidPUT4B8F3E61",
    "ToyApiv2itemsid539283D4",
    "ToyApiv2itemsbatchDELETECBA5C28F",
    "ToyApiv2itemsbatchOPTIONSE3FF6769",
    "ToyApiv2itemsbatchPOST628908E7",
    "ToyApiv2itemsbatch75099DB5",
    "ToyApiv2itemsGET27DE4CA4",
    "ToyApiv2itemsOPTIONS72562731",
    "ToyApiv2itemsPOST930F8D82",
    "ToyApiv2items64C39CAF",
    "ToyApiv2itemssearchGET5C436F7F",
    "ToyApiv2itemssearchOPTIONS6436D764",
    "ToyApiv2itemssearch8E14DF06",
    "ToyApiv2OPTIONS428A75C7",
    "ToyApiv2publicmessageGET15E68924",
    "ToyApiv2publicmessageOPTIONSBB8A8E55",
    "ToyApiv2publicmessage1311F8E6",
    "ToyApiv2publicOPTIONSD3608D67",
    "ToyApiv2publicF2378D9D",
    "ToyApiv217F3E251"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Deployment/Resource"
   }
  },
  "ToyApiDeploymentStagedevCCBD374C": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "ToyApiDeployment5DE889CB159a20363ee61e6ed33994bc0b10a73e"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    },
    "StageName": "dev",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "DependsOn": [
    "ToyApiAccountBDCDD152"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/DeploymentStage.dev/Resource"
   }
  },
  "ToyApiOPTIONSF3984785": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/OPTIONS/Resource"
   }
  },
  "ToyApiv1046ED3EF": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "v1",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/Resource"
   }
  },
  "ToyApiv1OPTIONS150F97C1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1046ED3EF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/OPTIONS/Resource"
   }
  },
  "ToyApiv1publicC35BF56A": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1046ED3EF"
    },
    "PathPart": "public",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/Resource"
   }
  },
  "ToyApiv1publicOPTIONSDA788BFB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1publicC35BF56A"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/OPTIONS/Resource"
   }
  },
  "ToyApiv1publicmessage5502DB27": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1publicC35BF56A"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/message/Resource"
   }
  },
  "ToyApiv1publicmessageOPTIONS31CA1C27": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1publicmessage5502DB27"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/message/OPTIONS/Resource"
   }
  },
  "ToyApiv1publicmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv1publicmessage86FB0671": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v1/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v1.public.message"
   }
  },
  "ToyApiv1publicmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv1publicmessageB321439F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v1/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v1.public.message"
   }
  },
  "ToyApiv1publicmessageGETC0B745F6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "PublicFunction8C206ECA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1publicmessage5502DB27"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/public/message/GET/Resource"
   }
  },
  "ToyApiv1authB25B3208": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1046ED3EF"
    },
    "PathPart": "auth",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/Resource"
   }
  },
  "ToyApiv1authOPTIONSC3C9C2BA": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authB25B3208"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/OPTIONS/Resource"
   }
  },
  "ToyApiv1authloginB5ECCBD7": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1authB25B3208"
    },
    "PathPart": "login",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/login/Resource"
   }
  },
  "ToyApiv1authloginOPTIONS3D8D10AD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authloginB5ECCBD7"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/login/OPTIONS/Resource"
   }
  },
  "ToyApiv1authloginPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTv1authlogin327A14C8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/v1/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/login/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..v1.auth.login"
   }
  },
  "ToyApiv1authloginPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTv1authlogin6A69D8C0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/v1/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/login/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..v1.auth.login"
   }
  },
  "ToyApiv1authloginPOSTE868FDF3": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1authloginB5ECCBD7"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/login/POST/Resource"
   }
  },
  "ToyApiv1authmessage8CA3DE74": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1authB25B3208"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/message/Resource"
   }
  },
  "ToyApiv1authmessageOPTIONSA9F60A94": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authmessage8CA3DE74"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/message/OPTIONS/Resource"
   }
  },
  "ToyApiv1authmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv1authmessage5FDA4F61": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v1/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v1.auth.message"
   }
  },
  "ToyApiv1authmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv1authmessage7B280016": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v1/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v1.auth.message"
   }
  },
  "ToyApiv1authmessageGET3397B722": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1authmessage8CA3DE74"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/message/GET/Resource"
   }
  },
  "ToyApiv1authuser9BE82313": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1authB25B3208"
    },
    "PathPart": "user",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/Resource"
   }
  },
  "ToyApiv1authuserOPTIONSAF8868B8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authuser9BE82313"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/OPTIONS/Resource"
   }
  },
  "ToyApiv1authuseruserIdFDAFBC5B": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1authuser9BE82313"
    },
    "PathPart": "{userId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/Resource"
   }
  },
  "ToyApiv1authuseruserIdOPTIONS9281F822": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authuseruserIdFDAFBC5B"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/OPTIONS/Resource"
   }
  },
  "ToyApiv1authuseruserIdmessage960F1F17": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1authuseruserIdFDAFBC5B"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/message/Resource"
   }
  },
  "ToyApiv1authuseruserIdmessageOPTIONS0421FDE0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1authuseruserIdmessage960F1F17"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/message/OPTIONS/Resource"
   }
  },
  "ToyApiv1authuseruserIdmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv1authuseruserIdmessage2B372F4B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v1/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v1.auth.user.{userId}.message"
   }
  },
  "ToyApiv1authuseruserIdmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv1authuseruserIdmessage604B4A7B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v1/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v1.auth.user.{userId}.message"
   }
  },
  "ToyApiv1authuseruserIdmessageGET30285F4D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1authuseruserIdmessage960F1F17"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/auth/user/{userId}/message/GET/Resource"
   }
  },
  "ToyApiv1itemsBC133551": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1046ED3EF"
    },
    "PathPart": "items",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/Resource"
   }
  },
  "ToyApiv1itemsOPTIONS70D83B6B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1itemsBC133551"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/OPTIONS/Resource"
   }
  },
  "ToyApiv1itemsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv1items58665B98": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v1/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v1.items"
   }
  },
  "ToyApiv1itemsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv1items92551333": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v1/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v1.items"
   }
  },
  "ToyApiv1itemsGET5F85FB7E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1itemsBC133551"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/GET/Resource"
   }
  },
  "ToyApiv1itemsPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTv1items4C8FA759": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/v1/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..v1.items"
   }
  },
  "ToyApiv1itemsPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTv1items9703529D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/v1/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..v1.items"
   }
  },
  "ToyApiv1itemsPOST65560D1A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1itemsBC133551"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/POST/Resource"
   }
  },
  "ToyApiv1itemsid432C8BB6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv1itemsBC133551"
    },
    "PathPart": "{id}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/Resource"
   }
  },
  "ToyApiv1itemsidOPTIONS735FA566": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv1itemsid432C8BB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/OPTIONS/Resource"
   }
  },
  "ToyApiv1itemsidGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv1itemsidC71773F3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv1itemsidD336EAC0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidGET50B9BA8E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1itemsid432C8BB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/GET/Resource"
   }
  },
  "ToyApiv1itemsidPUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTv1itemsidBB639CED": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidPUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTv1itemsidC5CFE968": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidPUT3A11D7F0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1itemsid432C8BB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/PUT/Resource"
   }
  },
  "ToyApiv1itemsidDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEv1itemsid8E6A07E8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEv1itemsidAD148662": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/v1/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..v1.items.{id}"
   }
  },
  "ToyApiv1itemsidDELETEF8155427": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv1itemsid432C8BB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v1/items/{id}/DELETE/Resource"
   }
  },
  "ToyApiv217F3E251": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "v2",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/Resource"
   }
  },
  "ToyApiv2OPTIONS428A75C7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv217F3E251"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/OPTIONS/Resource"
   }
  },
  "ToyApiv2publicF2378D9D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv217F3E251"
    },
    "PathPart": "public",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/Resource"
   }
  },
  "ToyApiv2publicOPTIONSD3608D67": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2publicF2378D9D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/OPTIONS/Resource"
   }
  },
  "ToyApiv2publicmessage1311F8E6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2publicF2378D9D"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/message/Resource"
   }
  },
  "ToyApiv2publicmessageOPTIONSBB8A8E55": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2publicmessage1311F8E6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/message/OPTIONS/Resource"
   }
  },
  "ToyApiv2publicmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2publicmessage9CD80E18": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.public.message"
   }
  },
  "ToyApiv2publicmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2publicmessage2B1BCE2F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.public.message"
   }
  },
  "ToyApiv2publicmessageGET15E68924": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "PublicFunction8C206ECA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2publicmessage1311F8E6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/public/message/GET/Resource"
   }
  },
  "ToyApiv2authAF64A6FF": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv217F3E251"
    },
    "PathPart": "auth",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/Resource"
   }
  },
  "ToyApiv2authOPTIONS726A9CCF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authAF64A6FF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/OPTIONS/Resource"
   }
  },
  "ToyApiv2authloginB96F6D37": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2authAF64A6FF"
    },
    "PathPart": "login",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/login/Resource"
   }
  },
  "ToyApiv2authloginOPTIONSF6B637EC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authloginB96F6D37"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/login/OPTIONS/Resource"
   }
  },
  "ToyApiv2authloginPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTv2authlogin0136DBEC": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/v2/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/login/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..v2.auth.login"
   }
  },
  "ToyApiv2authloginPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTv2authlogin5171A40F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/v2/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/login/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..v2.auth.login"
   }
  },
  "ToyApiv2authloginPOST175818F9": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2authloginB96F6D37"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/login/POST/Resource"
   }
  },
  "ToyApiv2authmessage7DD7A7DF": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2authAF64A6FF"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/message/Resource"
   }
  },
  "ToyApiv2authmessageOPTIONSDC8D60EC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authmessage7DD7A7DF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/message/OPTIONS/Resource"
   }
  },
  "ToyApiv2authmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2authmessage209B9ADA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.auth.message"
   }
  },
  "ToyApiv2authmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2authmessageCE5932B0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.auth.message"
   }
  },
  "ToyApiv2authmessageGET5D031E1B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2authmessage7DD7A7DF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/message/GET/Resource"
   }
  },
  "ToyApiv2authuserBBCCE87D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2authAF64A6FF"
    },
    "PathPart": "user",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/Resource"
   }
  },
  "ToyApiv2authuserOPTIONSB9AFF3E0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authuserBBCCE87D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/OPTIONS/Resource"
   }
  },
  "ToyApiv2authuseruserIdB766FF6C": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2authuserBBCCE87D"
    },
    "PathPart": "{userId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/Resource"
   }
  },
  "ToyApiv2authuseruserIdOPTIONS79CC3817": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authuseruserIdB766FF6C"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/OPTIONS/Resource"
   }
  },
  "ToyApiv2authuseruserIdmessage27B9C204": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2authuseruserIdB766FF6C"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/message/Resource"
   }
  },
  "ToyApiv2authuseruserIdmessageOPTIONS1923A76F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2authuseruserIdmessage27B9C204"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/message/OPTIONS/Resource"
   }
  },
  "ToyApiv2authuseruserIdmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2authuseruserIdmessage7E9EFCD8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.auth.user.{userId}.message"
   }
  },
  "ToyApiv2authuseruserIdmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2authuseruserIdmessage5FFDEB2B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.auth.user.{userId}.message"
   }
  },
  "ToyApiv2authuseruserIdmessageGETBC16B543": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2authuseruserIdmessage27B9C204"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/auth/user/{userId}/message/GET/Resource"
   }
  },
  "ToyApiv2items64C39CAF": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv217F3E251"
    },
    "PathPart": "items",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/Resource"
   }
  },
  "ToyApiv2itemsOPTIONS72562731": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/OPTIONS/Resource"
   }
  },
  "ToyApiv2itemsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2itemsAAF65A7F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.items"
   }
  },
  "ToyApiv2itemsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2items5999DD82": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.items"
   }
  },
  "ToyApiv2itemsGET27DE4CA4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/GET/Resource"
   }
  },
  "ToyApiv2itemsPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTv2items99401695": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/v2/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..v2.items"
   }
  },
  "ToyApiv2itemsPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTv2items9EE42327": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/v2/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..v2.items"
   }
  },
  "ToyApiv2itemsPOST930F8D82": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/POST/Resource"
   }
  },
  "ToyApiv2itemsid539283D4": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "PathPart": "{id}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/Resource"
   }
  },
  "ToyApiv2itemsidOPTIONSDCC0074E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2itemsid539283D4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/OPTIONS/Resource"
   }
  },
  "ToyApiv2itemsidGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2itemsid1129C42F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2itemsidC9F59A30": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidGET7827A714": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemsid539283D4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/GET/Resource"
   }
  },
  "ToyApiv2itemsidPUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTv2itemsid9D7213B7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidPUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTv2itemsidA32BABC9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidPUT4B8F3E61": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemsid539283D4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/PUT/Resource"
   }
  },
  "ToyApiv2itemsidDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEv2itemsid4B261502": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEv2itemsid6D4B8657": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/v2/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..v2.items.{id}"
   }
  },
  "ToyApiv2itemsidDELETE79D9A435": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemsid539283D4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/{id}/DELETE/Resource"
   }
  },
  "ToyApiv2itemsbatch75099DB5": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "PathPart": "batch",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/Resource"
   }
  },
  "ToyApiv2itemsbatchOPTIONSE3FF6769": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2itemsbatch75099DB5"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/OPTIONS/Resource"
   }
  },
  "ToyApiv2itemsbatchPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTv2itemsbatch94F682EF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/v2/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..v2.items.batch"
   }
  },
  "ToyApiv2itemsbatchPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTv2itemsbatchFB1FF929": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/v2/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..v2.items.batch"
   }
  },
  "ToyApiv2itemsbatchPOST628908E7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemsbatch75099DB5"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/POST/Resource"
   }
  },
  "ToyApiv2itemsbatchDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEv2itemsbatch2160959C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/v2/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..v2.items.batch"
   }
  },
  "ToyApiv2itemsbatchDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEv2itemsbatch0234FABD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/v2/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..v2.items.batch"
   }
  },
  "ToyApiv2itemsbatchDELETECBA5C28F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemsbatch75099DB5"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/batch/DELETE/Resource"
   }
  },
  "ToyApiv2itemssearch8E14DF06": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiv2items64C39CAF"
    },
    "PathPart": "search",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/search/Resource"
   }
  },
  "ToyApiv2itemssearchOPTIONS6436D764": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiv2itemssearch8E14DF06"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/search/OPTIONS/Resource"
   }
  },
  "ToyApiv2itemssearchGETApiPermissionToyApiStackdevToyApi10ED4AE5GETv2itemssearchE37F176F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/v2/items/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/search/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..v2.items.search"
   }
  },
  "ToyApiv2itemssearchGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETv2itemssearch5F4F9AE1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/v2/items/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/search/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..v2.items.search"
   }
  },
  "ToyApiv2itemssearchGET5C436F7F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiv2itemssearch8E14DF06"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/v2/items/search/GET/Resource"
   }
  },
  "ToyApipublicB3E4EAE9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "public",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/Resource"
   }
  },
  "ToyApipublicOPTIONS4F773EFF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApipublicB3E4EAE9"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/OPTIONS/Resource"
   }
  },
  "ToyApipublicmessage950797E4": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApipublicB3E4EAE9"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/message/Resource"
   }
  },
  "ToyApipublicmessageOPTIONS419F5A4F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApipublicmessage950797E4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/message/OPTIONS/Resource"
   }
  },
  "ToyApipublicmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETpublicmessage7A5E5BE4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..public.message"
   }
  },
  "ToyApipublicmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETpublicmessageFEB34F66": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..public.message"
   }
  },
  "ToyApipublicmessageGETE013191F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "PublicFunction8C206ECA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApipublicmessage950797E4"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/public/message/GET/Resource"
   }
  },
  "ToyApiauthB57830EF": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "auth",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/Resource"
   }
  },
  "ToyApiauthOPTIONSC0468BF4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthB57830EF"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/OPTIONS/Resource"
   }
  },
  "ToyApiauthlogin0A588AB9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiauthB57830EF"
    },
    "PathPart": "login",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/login/Resource"
   }
  },
  "ToyApiauthloginOPTIONS8AA0E46F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthlogin0A588AB9"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/login/OPTIONS/Resource"
   }
  },
  "ToyApiauthloginPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTauthlogin663E39E5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/login/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..auth.login"
   }
  },
  "ToyApiauthloginPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTauthloginBDA87315": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/login/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..auth.login"
   }
  },
  "ToyApiauthloginPOST4FB0565A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiauthlogin0A588AB9"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/login/POST/Resource"
   }
  },
  "ToyApiauthmessageA7CC39BD": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiauthB57830EF"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/message/Resource"
   }
  },
  "ToyApiauthmessageOPTIONS974D23A1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthmessageA7CC39BD"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/message/OPTIONS/Resource"
   }
  },
  "ToyApiauthmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETauthmessageC7E87FA0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..auth.message"
   }
  },
  "ToyApiauthmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETauthmessageC15FD6BE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..auth.message"
   }
  },
  "ToyApiauthmessageGET855425A0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiauthmessageA7CC39BD"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/message/GET/Resource"
   }
  },
  "ToyApiauthuserF2BC53E1": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiauthB57830EF"
    },
    "PathPart": "user",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/Resource"
   }
  },
  "ToyApiauthuserOPTIONSA0FB34C1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthuserF2BC53E1"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/OPTIONS/Resource"
   }
  },
  "ToyApiauthuseruserIdF80AAD91": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiauthuserF2BC53E1"
    },
    "PathPart": "{userId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/Resource"
   }
  },
  "ToyApiauthuseruserIdOPTIONS8B1D102C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthuseruserIdF80AAD91"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/OPTIONS/Resource"
   }
  },
  "ToyApiauthuseruserIdmessage9EC415FC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiauthuseruserIdF80AAD91"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/message/Resource"
   }
  },
  "ToyApiauthuseruserIdmessageOPTIONSFFAC31FF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiauthuseruserIdmessage9EC415FC"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/message/OPTIONS/Resource"
   }
  },
  "ToyApiauthuseruserIdmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETauthuseruserIdmessage58B47D64": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..auth.user.{userId}.message"
   }
  },
  "ToyApiauthuseruserIdmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETauthuseruserIdmessage67E3EECA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..auth.user.{userId}.message"
   }
  },
  "ToyApiauthuseruserIdmessageGETA4953C09": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiauthuseruserIdmessage9EC415FC"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/auth/user/{userId}/message/GET/Resource"
   }
  },
  "ToyApiitems30D054A6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "items",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/Resource"
   }
  },
  "ToyApiitemsOPTIONSDCB2E79A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiitems30D054A6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/OPTIONS/Resource"
   }
  },
  "ToyApiitemsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETitems00C0E552": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..items"
   }
  },
  "ToyApiitemsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETitems334075DD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..items"
   }
  },
  "ToyApiitemsGET497B2C8E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiitems30D054A6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/GET/Resource"
   }
  },
  "ToyApiitemsPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTitems997BDF04": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..items"
   }
  },
  "ToyApiitemsPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTitems54C965F1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..items"
   }
  },
  "ToyApiitemsPOSTB7E73816": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiitems30D054A6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/POST/Resource"
   }
  },
  "ToyApiitemsid0E11AEFB": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiitems30D054A6"
    },
    "PathPart": "{id}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/Resource"
   }
  },
  "ToyApiitemsidOPTIONSECDC8BA4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiitemsid0E11AEFB"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/OPTIONS/Resource"
   }
  },
  "ToyApiitemsidGETApiPermissionToyApiStackdevToyApi10ED4AE5GETitemsid275A1D21": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..items.{id}"
   }
  },
  "ToyApiitemsidGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETitemsid7EAF306D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..items.{id}"
   }
  },
  "ToyApiitemsidGET90AAD390": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiitemsid0E11AEFB"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/GET/Resource"
   }
  },
  "ToyApiitemsidPUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTitemsid47891FD2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..items.{id}"
   }
  },
  "ToyApiitemsidPUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTitemsidCE552CD2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..items.{id}"
   }
  },
  "ToyApiitemsidPUT66D755A2": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiitemsid0E11AEFB"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/PUT/Resource"
   }
  },
  "ToyApiitemsidDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEitemsid8D09F5D1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..items.{id}"
   }
  },
  "ToyApiitemsidDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEitemsid10EEC2B7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..items.{id}"
   }
  },
  "ToyApiitemsidDELETE0A96FBB4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApiitemsid0E11AEFB"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/items/{id}/DELETE/Resource"
   }
  },
  "ToyApiapi89C0BF00": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "api",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/Resource"
   }
  },
  "ToyApiapiOPTIONS8448623C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapi89C0BF00"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/OPTIONS/Resource"
   }
  },
  "ToyApiapipublicBAE45D81": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapi89C0BF00"
    },
    "PathPart": "public",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/Resource"
   }
  },
  "ToyApiapipublicOPTIONS357CA556": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapipublicBAE45D81"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/OPTIONS/Resource"
   }
  },
  "ToyApiapipublicmessage705C3CBE": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapipublicBAE45D81"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/message/Resource"
   }
  },
  "ToyApiapipublicmessageOPTIONSC668549A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapipublicmessage705C3CBE"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/message/OPTIONS/Resource"
   }
  },
  "ToyApiapipublicmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapipublicmessage7AF10968": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.public.message"
   }
  },
  "ToyApiapipublicmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapipublicmessage06B20CAA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicFunction8C206ECA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/public/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.public.message"
   }
  },
  "ToyApiapipublicmessageGETC065FFD8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/public/message\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "PublicFunction8C206ECA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapipublicmessage705C3CBE"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/public/message/GET/Resource"
   }
  },
  "ToyApiapiauth5487A32D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapi89C0BF00"
    },
    "PathPart": "auth",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/Resource"
   }
  },
  "ToyApiapiauthOPTIONS9CA03008": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauth5487A32D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthloginD7B874CC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiauth5487A32D"
    },
    "PathPart": "login",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/login/Resource"
   }
  },
  "ToyApiapiauthloginOPTIONS308155C4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauthloginD7B874CC"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/login/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthloginPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTapiauthloginAB42D832": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/api/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/login/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..api.auth.login"
   }
  },
  "ToyApiapiauthloginPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTapiauthlogin7AAE598D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/api/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/login/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..api.auth.login"
   }
  },
  "ToyApiapiauthloginPOSTECCA09F8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"POST\",\n  \"path\": \"/auth/login\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiauthloginD7B874CC"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/login/POST/Resource"
   }
  },
  "ToyApiapiauthmessage2E855AE6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiauth5487A32D"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/message/Resource"
   }
  },
  "ToyApiapiauthmessageOPTIONS65134A2A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauthmessage2E855AE6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/message/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapiauthmessage4BB53D93": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.auth.message"
   }
  },
  "ToyApiapiauthmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapiauthmessage425A9AB9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/auth/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.auth.message"
   }
  },
  "ToyApiapiauthmessageGET17A8F775": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/auth/message\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiauthmessage2E855AE6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/message/GET/Resource"
   }
  },
  "ToyApiapiauthuser320DB207": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiauth5487A32D"
    },
    "PathPart": "user",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/Resource"
   }
  },
  "ToyApiapiauthuserOPTIONS2C52F7C8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauthuser320DB207"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthuseruserId3096771D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiauthuser320DB207"
    },
    "PathPart": "{userId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/Resource"
   }
  },
  "ToyApiapiauthuseruserIdOPTIONS333B0E0C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauthuseruserId3096771D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthuseruserIdmessageC41ED715": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiauthuseruserId3096771D"
    },
    "PathPart": "message",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/message/Resource"
   }
  },
  "ToyApiapiauthuseruserIdmessageOPTIONSAE95CEA1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiauthuseruserIdmessageC41ED715"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/message/OPTIONS/Resource"
   }
  },
  "ToyApiapiauthuseruserIdmessageGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapiauthuseruserIdmessage14218C27": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/message/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.auth.user.{userId}.message"
   }
  },
  "ToyApiapiauthuseruserIdmessageGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapiauthuseruserIdmessageC3B912B5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthFunctionA1CD5E0F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/auth/user/*/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/message/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.auth.user.{userId}.message"
   }
  },
  "ToyApiapiauthuseruserIdmessageGETBA8337E8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/auth/user/{userId}/message\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "AuthFunctionA1CD5E0F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiauthuseruserIdmessageC41ED715"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/auth/user/{userId}/message/GET/Resource"
   }
  },
  "ToyApiapiitems8918D000": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapi89C0BF00"
    },
    "PathPart": "items",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/Resource"
   }
  },
  "ToyApiapiitemsOPTIONSF878AAE5": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/OPTIONS/Resource"
   }
  },
  "ToyApiapiitemsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapiitemsEF71308E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.items"
   }
  },
  "ToyApiapiitemsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapiitemsAF201821": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.items"
   }
  },
  "ToyApiapiitemsGET8C1E9317": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/items\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/GET/Resource"
   }
  },
  "ToyApiapiitemsPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTapiitems71B35558": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/api/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..api.items"
   }
  },
  "ToyApiapiitemsPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTapiitemsEAC8E5D7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/api/items"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..api.items"
   }
  },
  "ToyApiapiitemsPOSTB0DA7087": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"POST\",\n  \"path\": \"/items\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/POST/Resource"
   }
  },
  "ToyApiapiitemsid304E5CED": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "PathPart": "{id}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/Resource"
   }
  },
  "ToyApiapiitemsidOPTIONS6C58BB10": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiitemsid304E5CED"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/OPTIONS/Resource"
   }
  },
  "ToyApiapiitemsidGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapiitemsid0BCC1644": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.items.{id}"
   }
  },
  "ToyApiapiitemsidGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapiitemsidED018CD6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.items.{id}"
   }
  },
  "ToyApiapiitemsidGET625A278A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/items/{id}\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemsid304E5CED"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/GET/Resource"
   }
  },
  "ToyApiapiitemsidPUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTapiitemsidC2D0B739": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..api.items.{id}"
   }
  },
  "ToyApiapiitemsidPUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTapiitemsid1B80BEB2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..api.items.{id}"
   }
  },
  "ToyApiapiitemsidPUTD24A58A0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"PUT\",\n  \"path\": \"/items/{id}\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemsid304E5CED"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/PUT/Resource"
   }
  },
  "ToyApiapiitemsidDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEapiitemsid2E575D65": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..api.items.{id}"
   }
  },
  "ToyApiapiitemsidDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEapiitemsid7D7598C7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/api/items/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..api.items.{id}"
   }
  },
  "ToyApiapiitemsidDELETEA8B3B38F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"DELETE\",\n  \"path\": \"/items/{id}\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemsid304E5CED"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/{id}/DELETE/Resource"
   }
  },
  "ToyApiapiitemsbatch9244B6A3": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "PathPart": "batch",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/Resource"
   }
  },
  "ToyApiapiitemsbatchOPTIONSD59B45A8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiitemsbatch9244B6A3"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/OPTIONS/Resource"
   }
  },
  "ToyApiapiitemsbatchPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTapiitemsbatch5481D343": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/api/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..api.items.batch"
   }
  },
  "ToyApiapiitemsbatchPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTapiitemsbatch72093DB6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/api/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..api.items.batch"
   }
  },
  "ToyApiapiitemsbatchPOSTC83E6693": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"POST\",\n  \"path\": \"/items/batch\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemsbatch9244B6A3"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/POST/Resource"
   }
  },
  "ToyApiapiitemsbatchDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEapiitemsbatchE4A6F7C5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/api/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..api.items.batch"
   }
  },
  "ToyApiapiitemsbatchDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEapiitemsbatch342F3671": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/api/items/batch"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..api.items.batch"
   }
  },
  "ToyApiapiitemsbatchDELETE6C51553E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"DELETE\",\n  \"path\": \"/items/batch\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemsbatch9244B6A3"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/batch/DELETE/Resource"
   }
  },
  "ToyApiapiitemssearch4C196465": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApiapiitems8918D000"
    },
    "PathPart": "search",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/search/Resource"
   }
  },
  "ToyApiapiitemssearchOPTIONS27A3B2B0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApiapiitemssearch4C196465"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/search/OPTIONS/Resource"
   }
  },
  "ToyApiapiitemssearchGETApiPermissionToyApiStackdevToyApi10ED4AE5GETapiitemssearch44D9C0FF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/api/items/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/search/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..api.items.search"
   }
  },
  "ToyApiapiitemssearchGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETapiitemssearch2D395D74": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ItemsFunction736859B1",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/api/items/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/search/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..api.items.search"
   }
  },
  "ToyApiapiitemssearchGETEE81687A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Content-Type": "'application/json'",
        "method.response.header.X-API-Version": "integration.response.header.X-API-Version"
       },
       "StatusCode": "200"
      }
     ],
     "RequestTemplates": {
      "application/json": "{\n  \"httpMethod\": \"GET\",\n  \"path\": \"/items/search\",\n  \"headers\": {\n    #foreach($param in $input.params().header.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().header.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"queryStringParameters\": {\n    #foreach($param in $input.params().querystring.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().querystring.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"pathParameters\": {\n    #foreach($param in $input.params().path.keySet())\n    \"$param\": \"$util.escapeJavaScript($input.params().path.get($param))\"\n    #if($foreach.hasNext),#end\n    #end\n  },\n  \"body\": $input.json('$'),\n  \"requestContext\": {\n    \"apiVersion\": \"$util.escapeJavaScript($input.params().header.get('Accept'))\",\n    \"contentNegotiation\": true\n  }\n}"
     },
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ItemsFunction736859B1",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     },
     {
      "ResponseParameters": {
       "method.response.header.Content-Type": true,
       "method.response.header.X-API-Version": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestParameters": {
     "method.request.header.Content-Type": false,
     "method.request.header.Accept": false
    },
    "RequestValidatorId": {
     "Ref": "MediaTypeBodyValidatorFBEED57E"
    },
    "ResourceId": {
     "Ref": "ToyApiapiitemssearch4C196465"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/api/items/search/GET/Resource"
   }
  },
  "ToyApideveloperAAE543C0": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "developer",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/Resource"
   }
  },
  "ToyApideveloperOPTIONSB3D5F947": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperAAE543C0"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/OPTIONS/Resource"
   }
  },
  "ToyApideveloperregister1BA6DBAE": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApideveloperAAE543C0"
    },
    "PathPart": "register",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/register/Resource"
   }
  },
  "ToyApideveloperregisterOPTIONSAA83300A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperregister1BA6DBAE"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/register/OPTIONS/Resource"
   }
  },
  "ToyApideveloperregisterPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTdeveloperregister5C1313BE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/developer/register"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/register/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..developer.register"
   }
  },
  "ToyApideveloperregisterPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTdeveloperregisterEE8E33C6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/developer/register"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/register/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..developer.register"
   }
  },
  "ToyApideveloperregisterPOSTF7E67475": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperregister1BA6DBAE"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/register/POST/Resource"
   }
  },
  "ToyApideveloperprofileFCE01605": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApideveloperAAE543C0"
    },
    "PathPart": "profile",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/Resource"
   }
  },
  "ToyApideveloperprofileOPTIONSD80306DB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperprofileFCE01605"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/OPTIONS/Resource"
   }
  },
  "ToyApideveloperprofileGETApiPermissionToyApiStackdevToyApi10ED4AE5GETdeveloperprofileAF5F991A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/developer/profile"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..developer.profile"
   }
  },
  "ToyApideveloperprofileGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETdeveloperprofile08FE0326": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/developer/profile"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..developer.profile"
   }
  },
  "ToyApideveloperprofileGETC7805BA7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperprofileFCE01605"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/GET/Resource"
   }
  },
  "ToyApideveloperprofilePUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTdeveloperprofileDE6F8D00": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/developer/profile"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..developer.profile"
   }
  },
  "ToyApideveloperprofilePUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTdeveloperprofile0E750AFA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/developer/profile"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..developer.profile"
   }
  },
  "ToyApideveloperprofilePUT7C84DE84": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperprofileFCE01605"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/profile/PUT/Resource"
   }
  },
  "ToyApideveloperapikey80E6A461": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApideveloperAAE543C0"
    },
    "PathPart": "api-key",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/Resource"
   }
  },
  "ToyApideveloperapikeyOPTIONSE17F6EC8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperapikey80E6A461"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/OPTIONS/Resource"
   }
  },
  "ToyApideveloperapikeyPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTdeveloperapikeyD873A818": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/developer/api-key"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..developer.api-key"
   }
  },
  "ToyApideveloperapikeyPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTdeveloperapikeyBFA26F73": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/developer/api-key"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..developer.api-key"
   }
  },
  "ToyApideveloperapikeyPOSTA6B30817": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperapikey80E6A461"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/POST/Resource"
   }
  },
  "ToyApideveloperapikeykeyId6DF3660F": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApideveloperapikey80E6A461"
    },
    "PathPart": "{keyId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/{keyId}/Resource"
   }
  },
  "ToyApideveloperapikeykeyIdOPTIONSF52CD252": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperapikeykeyId6DF3660F"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/{keyId}/OPTIONS/Resource"
   }
  },
  "ToyApideveloperapikeykeyIdDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEdeveloperapikeykeyIdCCD1D1AA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/developer/api-key/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/{keyId}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..developer.api-key.{keyId}"
   }
  },
  "ToyApideveloperapikeykeyIdDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEdeveloperapikeykeyId9F31162E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/developer/api-key/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/{keyId}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..developer.api-key.{keyId}"
   }
  },
  "ToyApideveloperapikeykeyIdDELETEE52CC075": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperapikeykeyId6DF3660F"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-key/{keyId}/DELETE/Resource"
   }
  },
  "ToyApideveloperapikeys9588C797": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApideveloperAAE543C0"
    },
    "PathPart": "api-keys",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-keys/Resource"
   }
  },
  "ToyApideveloperapikeysOPTIONSFB794566": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApideveloperapikeys9588C797"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-keys/OPTIONS/Resource"
   }
  },
  "ToyApideveloperapikeysGETApiPermissionToyApiStackdevToyApi10ED4AE5GETdeveloperapikeysC8FA76C0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/developer/api-keys"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-keys/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..developer.api-keys"
   }
  },
  "ToyApideveloperapikeysGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETdeveloperapikeysA004D54C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeveloperFunction4CFB9C2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/developer/api-keys"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-keys/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..developer.api-keys"
   }
  },
  "ToyApideveloperapikeysGET5550ABF6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeveloperFunction4CFB9C2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ToyApideveloperapikeys9588C797"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/developer/api-keys/GET/Resource"
   }
  },
  "ToyApisecureD5A81777": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ToyApi351408CF",
      "RootResourceId"
     ]
    },
    "PathPart": "secure",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/Resource"
   }
  },
  "ToyApisecureOPTIONS9300E2B7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureD5A81777"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/OPTIONS/Resource"
   }
  },
  "ToyApisecureadmin62F67807": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureD5A81777"
    },
    "PathPart": "admin",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/Resource"
   }
  },
  "ToyApisecureadminOPTIONS516F503C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureadmin62F67807"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/OPTIONS/Resource"
   }
  },
  "ToyApisecureadminconfigFBCD4715": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureadmin62F67807"
    },
    "PathPart": "config",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/Resource"
   }
  },
  "ToyApisecureadminconfigOPTIONS6DB671D1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureadminconfigFBCD4715"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/OPTIONS/Resource"
   }
  },
  "ToyApisecureadminconfigGETApiPermissionToyApiStackdevToyApi10ED4AE5GETsecureadminconfig347E1B9D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/secure/admin/config"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.config"
   }
  },
  "ToyApisecureadminconfigGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETsecureadminconfigB1E07381": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/secure/admin/config"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.config"
   }
  },
  "ToyApisecureadminconfigGETB99745CD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminconfigFBCD4715"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/GET/Resource"
   }
  },
  "ToyApisecureadminconfigPUTApiPermissionToyApiStackdevToyApi10ED4AE5PUTsecureadminconfig48BB074C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/PUT/secure/admin/config"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/PUT/ApiPermission.ToyApiStackdevToyApi10ED4AE5.PUT..secure.admin.config"
   }
  },
  "ToyApisecureadminconfigPUTApiPermissionTestToyApiStackdevToyApi10ED4AE5PUTsecureadminconfig519549D4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/PUT/secure/admin/config"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/PUT/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.PUT..secure.admin.config"
   }
  },
  "ToyApisecureadminconfigPUTAD6ED9C2": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminconfigFBCD4715"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/config/PUT/Resource"
   }
  },
  "ToyApisecureadminmetricsA335BDB6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureadmin62F67807"
    },
    "PathPart": "metrics",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/metrics/Resource"
   }
  },
  "ToyApisecureadminmetricsOPTIONS871E8736": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureadminmetricsA335BDB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/metrics/OPTIONS/Resource"
   }
  },
  "ToyApisecureadminmetricsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETsecureadminmetrics42E7E13A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/secure/admin/metrics"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/metrics/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.metrics"
   }
  },
  "ToyApisecureadminmetricsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETsecureadminmetrics888201EB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/secure/admin/metrics"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/metrics/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.metrics"
   }
  },
  "ToyApisecureadminmetricsGETF275A503": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminmetricsA335BDB6"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/metrics/GET/Resource"
   }
  },
  "ToyApisecureadminusersFC2889D7": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureadmin62F67807"
    },
    "PathPart": "users",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/Resource"
   }
  },
  "ToyApisecureadminusersOPTIONS0A6C435D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureadminusersFC2889D7"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/OPTIONS/Resource"
   }
  },
  "ToyApisecureadminusersGETApiPermissionToyApiStackdevToyApi10ED4AE5GETsecureadminusersBE61B00D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/secure/admin/users"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.users"
   }
  },
  "ToyApisecureadminusersGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETsecureadminusers1BDBC521": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/secure/admin/users"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..secure.admin.users"
   }
  },
  "ToyApisecureadminusersGETECB265AE": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminusersFC2889D7"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/GET/Resource"
   }
  },
  "ToyApisecureadminusersPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTsecureadminusers0ED11FD0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/secure/admin/users"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..secure.admin.users"
   }
  },
  "ToyApisecureadminusersPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTsecureadminusersB6198CFD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/secure/admin/users"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..secure.admin.users"
   }
  },
  "ToyApisecureadminusersPOSTEC8E1B2A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminusersFC2889D7"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/POST/Resource"
   }
  },
  "ToyApisecureadminusersuserIdF34A0D06": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureadminusersFC2889D7"
    },
    "PathPart": "{userId}",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/{userId}/Resource"
   }
  },
  "ToyApisecureadminusersuserIdOPTIONS06ACA9E9": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureadminusersuserIdF34A0D06"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/{userId}/OPTIONS/Resource"
   }
  },
  "ToyApisecureadminusersuserIdDELETEApiPermissionToyApiStackdevToyApi10ED4AE5DELETEsecureadminusersuserId7D5741B7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/DELETE/secure/admin/users/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/{userId}/DELETE/ApiPermission.ToyApiStackdevToyApi10ED4AE5.DELETE..secure.admin.users.{userId}"
   }
  },
  "ToyApisecureadminusersuserIdDELETEApiPermissionTestToyApiStackdevToyApi10ED4AE5DELETEsecureadminusersuserIdD0488942": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/DELETE/secure/admin/users/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/{userId}/DELETE/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.DELETE..secure.admin.users.{userId}"
   }
  },
  "ToyApisecureadminusersuserIdDELETE84C92759": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureadminusersuserIdF34A0D06"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/admin/users/{userId}/DELETE/Resource"
   }
  },
  "ToyApisecureexportDA140089": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureD5A81777"
    },
    "PathPart": "export",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/Resource"
   }
  },
  "ToyApisecureexportOPTIONS11A22B4D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureexportDA140089"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/OPTIONS/Resource"
   }
  },
  "ToyApisecureexportdata222D618D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureexportDA140089"
    },
    "PathPart": "data",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/data/Resource"
   }
  },
  "ToyApisecureexportdataOPTIONS51FE49C5": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureexportdata222D618D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/data/OPTIONS/Resource"
   }
  },
  "ToyApisecureexportdataPOSTApiPermissionToyApiStackdevToyApi10ED4AE5POSTsecureexportdataF355CE4D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/POST/secure/export/data"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/data/POST/ApiPermission.ToyApiStackdevToyApi10ED4AE5.POST..secure.export.data"
   }
  },
  "ToyApisecureexportdataPOSTApiPermissionTestToyApiStackdevToyApi10ED4AE5POSTsecureexportdata8ED06765": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/POST/secure/export/data"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/data/POST/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.POST..secure.export.data"
   }
  },
  "ToyApisecureexportdataPOSTE7354E37": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureexportdata222D618D"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/data/POST/Resource"
   }
  },
  "ToyApisecureexportauditlogs6B554C8A": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ToyApisecureexportDA140089"
    },
    "PathPart": "audit-logs",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/audit-logs/Resource"
   }
  },
  "ToyApisecureexportauditlogsOPTIONSF4052AE1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ToyApisecureexportauditlogs6B554C8A"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/audit-logs/OPTIONS/Resource"
   }
  },
  "ToyApisecureexportauditlogsGETApiPermissionToyApiStackdevToyApi10ED4AE5GETsecureexportauditlogsC916961D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/",
       {
        "Ref": "ToyApiDeploymentStagedevCCBD374C"
       },
       "/GET/secure/export/audit-logs"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/audit-logs/GET/ApiPermission.ToyApiStackdevToyApi10ED4AE5.GET..secure.export.audit-logs"
   }
  },
  "ToyApisecureexportauditlogsGETApiPermissionTestToyApiStackdevToyApi10ED4AE5GETsecureexportauditlogs9974DBEB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SecureAdminFunction6AAF79AD",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/test-invoke-stage/GET/secure/export/audit-logs"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/audit-logs/GET/ApiPermission.Test.ToyApiStackdevToyApi10ED4AE5.GET..secure.export.audit-logs"
   }
  },
  "ToyApisecureexportauditlogsGETD7F3A959": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "SignatureAuthorizer270794DB"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SecureAdminFunction6AAF79AD",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.header.X-Timestamp": true,
     "method.request.header.Authorization": true,
     "method.request.header.X-Nonce": true,
     "method.request.header.X-Signature": true,
     "method.request.header.Content-Type": false
    },
    "ResourceId": {
     "Ref": "ToyApisecureexportauditlogs6B554C8A"
    },
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ToyApi/Default/secure/export/audit-logs/GET/Resource"
   }
  },
  "CognitoAuthorizerF3215DBC": {
   "Type": "AWS::ApiGateway::Authorizer",
   "Properties": {
    "IdentitySource": "method.request.header.Authorization",
    "Name": "toyapi-dev-authorizer",
    "ProviderARNs": [
     {
      "Fn::GetAtt": [
       "UserPool6BA7E5F2",
       "Arn"
      ]
     }
    ],
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    },
    "Type": "COGNITO_USER_POOLS"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CognitoAuthorizer/Resource"
   }
  },
  "MediaTypeBodyValidatorFBEED57E": {
   "Type": "AWS::ApiGateway::RequestValidator",
   "Properties": {
    "Name": "toyapi-dev-media-type-validator",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    },
    "ValidateRequestBody": true,
    "ValidateRequestParameters": true
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/MediaTypeBodyValidator/Resource"
   }
  },
  "MaliciousIPSet": {
   "Type": "AWS::WAFv2::IPSet",
   "Properties": {
    "Addresses": [
     "192.0.2.44/32",
     "198.51.100.0/24"
    ],
    "Description": "Known malicious IP addresses",
    "IPAddressVersion": "IPV4",
    "Name": "toyapi-dev-malicious-ips",
    "Scope": "REGIONAL",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/MaliciousIPSet"
   }
  },
  "TrustedIPSet": {
   "Type": "AWS::WAFv2::IPSet",
   "Properties": {
    "Addresses": [
     "203.0.113.0/24"
    ],
    "Description": "Trusted IP addresses with higher rate limits",
    "IPAddressVersion": "IPV4",
    "Name": "toyapi-dev-trusted-ips",
    "Scope": "REGIONAL",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/TrustedIPSet"
   }
  },
  "MaliciousPatterns": {
   "Type": "AWS::WAFv2::RegexPatternSet",
   "Properties": {
    "Description": "Patterns matching malicious requests",
    "Name": "toyapi-dev-malicious-patterns",
    "RegularExpressionList": [
     "(?i)(union|select|insert|delete|update|drop|create|alter)\\s",
     "(?i)('|(\\-\\-)|;|\\||\\*|%)",
     "(?i)(<script|javascript:|vbscript:|onload=|onerror=)",
     "(?i)(\\.\\./|\\.\\.\\\\|%2e%2e%2f|%2e%2e\\\\)",
     "(?i)(\\||;|&|`|\\$\\(|\\${)"
    ],
    "Scope": "REGIONAL",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/MaliciousPatterns"
   }
  },
  "WebACL": {
   "Type": "AWS::WAFv2::WebACL",
   "Properties": {
    "DefaultAction": {
     "Allow": {}
    },
    "Description": "Comprehensive WAF protection for ToyApi (dev)",
    "Name": "toyapi-dev-web-acl",
    "Rules": [
     {
      "Action": {
       "Block": {
        "CustomResponse": {
         "ResponseCode": 403
        }
       }
      },
      "Name": "BlockMaliciousIPs",
      "Priority": 10,
      "Statement": {
       "IPSetReferenceStatement": {
        "Arn": {
         "Fn::GetAtt": [
          "MaliciousIPSet",
          "Arn"
         ]
        }
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-blocked-malicious-ips",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Action": {
       "Block": {
        "CustomResponse": {
         "ResponseCode": 429
        }
       }
      },
      "Name": "RateLimitGeneral",
      "Priority": 20,
      "Statement": {
       "RateBasedStatement": {
        "AggregateKeyType": "IP",
        "Limit": 5000,
        "ScopeDownStatement": {
         "NotStatement": {
          "Statement": {
           "IPSetReferenceStatement": {
            "Arn": {
             "Fn::GetAtt": [
              "TrustedIPSet",
              "Arn"
             ]
            }
           }
          }
         }
        }
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-rate-limited-requests",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Action": {
       "Block": {
        "CustomResponse": {
         "ResponseCode": 429
        }
       }
      },
      "Name": "RateLimitAuth",
      "Priority": 30,
      "Statement": {
       "RateBasedStatement": {
        "AggregateKeyType": "IP",
        "Limit": 100,
        "ScopeDownStatement": {
         "ByteMatchStatement": {
          "FieldToMatch": {
           "UriPath": {}
          },
          "PositionalConstraint": "CONTAINS",
          "SearchString": "/auth/",
          "TextTransformations": [
           {
            "Priority": 0,
            "Type": "LOWERCASE"
           }
          ]
         }
        }
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-auth-rate-limited",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Action": {
       "Block": {
        "CustomResponse": {
         "ResponseCode": 403
        }
       }
      },
      "Name": "BlockMaliciousPatterns",
      "Priority": 40,
      "Statement": {
       "OrStatement": {
        "Statements": [
         {
          "RegexPatternSetReferenceStatement": {
           "Arn": {
            "Fn::GetAtt": [
             "MaliciousPatterns",
             "Arn"
            ]
           },
           "FieldToMatch": {
            "UriPath": {}
           },
           "TextTransformations": [
            {
             "Priority": 0,
             "Type": "URL_DECODE"
            },
            {
             "Priority": 1,
             "Type": "HTML_ENTITY_DECODE"
            }
           ]
          }
         },
         {
          "RegexPatternSetReferenceStatement": {
           "Arn": {
            "Fn::GetAtt": [
             "MaliciousPatterns",
             "Arn"
            ]
           },
           "FieldToMatch": {
            "QueryString": {}
           },
           "TextTransformations": [
            {
             "Priority": 0,
             "Type": "URL_DECODE"
            }
           ]
          }
         },
         {
          "RegexPatternSetReferenceStatement": {
           "Arn": {
            "Fn::GetAtt": [
             "MaliciousPatterns",
             "Arn"
            ]
           },
           "FieldToMatch": {
            "Body": {
             "OversizeHandling": "CONTINUE"
            }
           },
           "TextTransformations": [
            {
             "Priority": 0,
             "Type": "HTML_ENTITY_DECODE"
            }
           ]
          }
         }
        ]
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-blocked-malicious-patterns",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Name": "AWSManagedRulesCore",
      "OverrideAction": {
       "None": {}
      },
      "Priority": 50,
      "Statement": {
       "ManagedRuleGroupStatement": {
        "Name": "AWSManagedRulesCommonRuleSet",
        "VendorName": "AWS"
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-aws-managed-core",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Name": "AWSManagedRulesKnownBadInputs",
      "OverrideAction": {
       "None": {}
      },
      "Priority": 60,
      "Statement": {
       "ManagedRuleGroupStatement": {
        "Name": "AWSManagedRulesKnownBadInputsRuleSet",
        "VendorName": "AWS"
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-aws-managed-bad-inputs",
       "SampledRequestsEnabled": true
      }
     },
     {
      "Name": "AWSManagedRulesAmazonIpReputation",
      "OverrideAction": {
       "None": {}
      },
      "Priority": 70,
      "Statement": {
       "ManagedRuleGroupStatement": {
        "Name": "AWSManagedRulesAmazonIpReputationList",
        "VendorName": "AWS"
       }
      },
      "VisibilityConfig": {
       "CloudWatchMetricsEnabled": true,
       "MetricName": "toyapi-dev-aws-managed-ip-reputation",
       "SampledRequestsEnabled": true
      }
     }
    ],
    "Scope": "REGIONAL",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VisibilityConfig": {
     "CloudWatchMetricsEnabled": true,
     "MetricName": "toyapi-dev-web-acl",
     "SampledRequestsEnabled": true
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WebACL"
   }
  },
  "WebACLAssociation": {
   "Type": "AWS::WAFv2::WebACLAssociation",
   "Properties": {
    "ResourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:apigateway:us-east-1::/restapis/",
       {
        "Ref": "ToyApi351408CF"
       },
       "/stages/dev"
      ]
     ]
    },
    "WebACLArn": {
     "Fn::GetAtt": [
      "WebACL",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WebACLAssociation"
   }
  },
  "WafAlerts73984208": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "ToyApi WAF Security Alerts (dev)",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TopicName": "toyapi-dev-waf-alerts"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WafAlerts/Resource"
   }
  },
  "WafAlertssecuritytoyapithismakesmehappyco871B66E8": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "security+toyapi@thismakesmehappy.co",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "WafAlerts73984208"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WafAlerts/security+toyapi@thismakesmehappy.co/Resource"
   }
  },
  "WafBlockedRequestsAlarm26C6F484": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmActions": [
     {
      "Ref": "WafAlerts73984208"
     }
    ],
    "AlarmDescription": "High number of blocked requests detected - potential attack",
    "AlarmName": "toyapi-dev-waf-high-blocked-requests",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "Region",
      "Value": "us-east-1"
     },
     {
      "Name": "Rule",
      "Value": "ALL"
     },
     {
      "Name": "WebACL",
      "Value": "toyapi-dev-web-acl"
     }
    ],
    "EvaluationPeriods": 2,
    "MetricName": "BlockedRequests",
    "Namespace": "AWS/WAFV2",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 100,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WafBlockedRequestsAlarm/Resource"
   }
  },
  "WafRateLimitAlarm1F8E2514": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmActions": [
     {
      "Ref": "WafAlerts73984208"
     }
    ],
    "AlarmDescription": "Rate limit frequently exceeded - potential DDoS",
    "AlarmName": "toyapi-dev-waf-rate-limit-exceeded",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "Region",
      "Value": "us-east-1"
     },
     {
      "Name": "Rule",
      "Value": "RateLimitGeneral"
     },
     {
      "Name": "WebACL",
      "Value": "toyapi-dev-web-acl"
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "BlockedRequests",
    "Namespace": "AWS/WAFV2",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 50,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WafRateLimitAlarm/Resource"
   }
  },
  "WafAuthAttackAlarmD58B1807": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmActions": [
     {
      "Ref": "WafAlerts73984208"
     }
    ],
    "AlarmDescription": "Authentication endpoint under attack",
    "AlarmName": "toyapi-dev-waf-auth-attack",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "Region",
      "Value": "us-east-1"
     },
     {
      "Name": "Rule",
      "Value": "RateLimitAuth"
     },
     {
      "Name": "WebACL",
      "Value": "toyapi-dev-web-acl"
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "BlockedRequests",
    "Namespace": "AWS/WAFV2",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 10,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/WafAuthAttackAlarm/Resource"
   }
  },
  "DeveloperUsagePlanBF10B320": {
   "Type": "AWS::ApiGateway::UsagePlan",
   "Properties": {
    "ApiStages": [
     {
      "ApiId": {
       "Ref": "ToyApi351408CF"
      },
      "Stage": {
       "Ref": "ToyApiDeploymentStagedevCCBD374C"
      },
      "Throttle": {}
     }
    ],
    "Description": "Usage plan for developer API keys",
    "Quota": {
     "Limit": 10000,
     "Period": "DAY"
    },
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Throttle": {
     "BurstLimit": 200,
     "RateLimit": 100
    },
    "UsagePlanName": "toyapi-dev-developer-plan"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperUsagePlan/Resource"
   }
  },
  "DeveloperUsagePlanUsagePlanKeyResourceToyApiStackdevDefaultApiKey9E14AB6EE20919A6": {
   "Type": "AWS::ApiGateway::UsagePlanKey",
   "Properties": {
    "KeyId": {
     "Ref": "DefaultApiKey2400BB48"
    },
    "KeyType": "API_KEY",
    "UsagePlanId": {
     "Ref": "DeveloperUsagePlanBF10B320"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DeveloperUsagePlan/UsagePlanKeyResource:ToyApiStackdevDefaultApiKey9E14AB6E"
   }
  },
  "DefaultApiKey2400BB48": {
   "Type": "AWS::ApiGateway::ApiKey",
   "Properties": {
    "Description": "Default API key for testing and documentation",
    "Enabled": true,
    "Name": "toyapi-dev-default-key",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DefaultApiKey/Resource"
   }
  },
  "ApiKeySecretF1B08E61": {
   "Type": "AWS::SecretsManager::Secret",
   "Properties": {
    "Description": "Current and rotated API keys for ToyApi",
    "GenerateSecretString": {
     "ExcludeCharacters": " %+~`#$&*()|[]{}:;<>?!'/\"\\",
     "GenerateStringKey": "current",
     "SecretStringTemplate": "{\"current\":\"\",\"previous\":\"\",\"rotationDate\":\"\"}"
    },
    "Name": "toyapi-dev-api-keys",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeySecret/Resource"
   }
  },
  "ApiKeyLifecycleTable274AA525": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "keyId",
      "AttributeType": "S"
     },
     {
      "AttributeName": "timestamp",
      "AttributeType": "S"
     },
     {
      "AttributeName": "status",
      "AttributeType": "S"
     },
     {
      "AttributeName": "createdAt",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "StatusIndex",
      "KeySchema": [
       {
        "AttributeName": "status",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "createdAt",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "keyId",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "timestamp",
      "KeyType": "RANGE"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "TableName": "toyapi-dev-api-key-lifecycle",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyLifecycleTable/Resource"
   }
  },
  "ApiKeyRotationLogGroup00490AC8": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-apikeyrotation",
    "RetentionInDays": 14,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationLogGroup/Resource"
   }
  },
  "ApiKeyRotationFunctionServiceRole55513755": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationFunction/ServiceRole/Resource"
   }
  },
  "ApiKeyRotationFunctionServiceRoleDefaultPolicyFF645CB2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ApiKeyLifecycleTable274AA525",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ApiKeyLifecycleTable274AA525",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue",
        "secretsmanager:PutSecretValue",
        "secretsmanager:UpdateSecret"
       ],
       "Effect": "Allow",
       "Resource": {
        "Ref": "ApiKeySecretF1B08E61"
       }
      },
      {
       "Action": [
        "apigateway:DELETE",
        "apigateway:GET",
        "apigateway:PATCH",
        "apigateway:POST",
        "apigateway:PUT"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:apigateway:us-east-1::/apikeys/*",
        "arn:aws:apigateway:us-east-1::/restapis/*",
        "arn:aws:apigateway:us-east-1::/usageplans/*",
        "arn:aws:apigateway:us-east-1::/usageplanskeys/*"
       ]
      },
      {
       "Action": [
        "cloudwatch:PutMetricData",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": [
        "arn:aws:sns:us-east-1:375004071203:toyapi-dev-*",
        {
         "Ref": "ApiKeyRotationNotifications0E05B842"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ApiKeyRotationFunctionServiceRoleDefaultPolicyFF645CB2",
    "Roles": [
     {
      "Ref": "ApiKeyRotationFunctionServiceRole55513755"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ApiKeyRotationFunctionFF036682": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Automated API key rotation for ToyApi (dev)",
    "Environment": {
     "Variables": {
      "API_ID": {
       "Ref": "ToyApi351408CF"
      },
      "KEY_PREFIX": "toyapi-dev",
      "USAGE_PLAN_ID": {
       "Ref": "DeveloperUsagePlanBF10B320"
      },
      "ENVIRONMENT": "dev",
      "SECRET_ARN": {
       "Ref": "ApiKeySecretF1B08E61"
      },
      "LIFECYCLE_TABLE": {
       "Ref": "ApiKeyLifecycleTable274AA525"
      },
      "ROTATION_DAYS": "7",
      "REGION": "us-east-1",
      "ROTATION_TOPIC_ARN": {
       "Ref": "ApiKeyRotationNotifications0E05B842"
      }
     }
    },
    "FunctionName": "toyapi-dev-apikeyrotation",
    "Handler": "co.thismakesmehappy.toyapi.service.ApiKeyRotationHandler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ApiKeyRotationFunctionServiceRole55513755",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 300
   },
   "DependsOn": [
    "ApiKeyRotationFunctionServiceRoleDefaultPolicyFF645CB2",
    "ApiKeyRotationFunctionServiceRole55513755"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ApiKeyRotationSchedule801A9E00": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "Description": "Scheduled API key rotation for ToyApi",
    "Name": "toyapi-dev-api-key-rotation",
    "ScheduleExpression": "cron(0 2 1 * ? *)",
    "State": "DISABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "ApiKeyRotationFunctionFF036682",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationSchedule/Resource"
   }
  },
  "ApiKeyRotationScheduleAllowEventRuleToyApiStackdevApiKeyRotationFunctionFBEE9089BC8A1DA4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiKeyRotationFunctionFF036682",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "ApiKeyRotationSchedule801A9E00",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationSchedule/AllowEventRuleToyApiStackdevApiKeyRotationFunctionFBEE9089"
   }
  },
  "ManualApiKeyRotation1ABA6179": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "Description": "Manual trigger for emergency API key rotation",
    "EventPattern": {
     "detail": {
      "action": [
       "rotate"
      ],
      "environment": [
       "dev"
      ]
     },
     "detail-type": [
      "API Key Rotation Request"
     ],
     "source": [
      "custom.toyapi"
     ]
    },
    "Name": "toyapi-dev-manual-api-key-rotation",
    "State": "ENABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "ApiKeyRotationFunctionFF036682",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ManualApiKeyRotation/Resource"
   }
  },
  "ManualApiKeyRotationAllowEventRuleToyApiStackdevApiKeyRotationFunctionFBEE908915C7FB25": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiKeyRotationFunctionFF036682",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "ManualApiKeyRotation1ABA6179",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ManualApiKeyRotation/AllowEventRuleToyApiStackdevApiKeyRotationFunctionFBEE9089"
   }
  },
  "ApiKeyRotationNotifications0E05B842": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "API Key Rotation Notifications (dev)",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TopicName": "toyapi-dev-api-key-rotation-notifications"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationNotifications/Resource"
   }
  },
  "ApiKeyRotationNotificationssecuritytoyapithismakesmehappyco54C5AAAE": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "security+toyapi@thismakesmehappy.co",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "ApiKeyRotationNotifications0E05B842"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationNotifications/security+toyapi@thismakesmehappy.co/Resource"
   }
  },
  "ApiKeyRotationErrorAlarmF3FA6941": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "API key rotation function has errors",
    "AlarmName": "toyapi-dev-api-key-rotation-errors",
    "ComparisonOperator": "GreaterThanOrEqualToThreshold",
    "Dimensions": [
     {
      "Name": "FunctionName",
      "Value": {
       "Ref": "ApiKeyRotationFunctionFF036682"
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "Errors",
    "Namespace": "AWS/Lambda",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 1,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationErrorAlarm/Resource"
   }
  },
  "ApiKeyRotationDurationAlarmF7C9CDCE": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "API key rotation taking too long",
    "AlarmName": "toyapi-dev-api-key-rotation-duration",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "FunctionName",
      "Value": {
       "Ref": "ApiKeyRotationFunctionFF036682"
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "Duration",
    "Namespace": "AWS/Lambda",
    "Period": 300,
    "Statistic": "Average",
    "Threshold": 120000,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationDurationAlarm/Resource"
   }
  },
  "ApiKeyRotationHealthAlarm664E9292": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "API key rotation health check",
    "AlarmName": "toyapi-dev-api-key-rotation-health",
    "ComparisonOperator": "LessThanOrEqualToThreshold",
    "EvaluationPeriods": 25,
    "MetricName": "ApiKeyRotationSuccess",
    "Namespace": "ToyApi/dev",
    "Period": 3600,
    "Statistic": "Sum",
    "Threshold": 0,
    "TreatMissingData": "breaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiKeyRotationHealthAlarm/Resource"
   }
  },
  "RequestSigningSecretDCC61A81": {
   "Type": "AWS::SecretsManager::Secret",
   "Properties": {
    "Description": "HMAC signing keys for request signature validation",
    "GenerateSecretString": {
     "ExcludeCharacters": " %+~`#$&*()|[]{}:;<>?!'/\"\\",
     "GenerateStringKey": "current",
     "SecretStringTemplate": "{\"current\":\"\",\"previous\":\"\",\"rotationDate\":\"\"}"
    },
    "Name": "toyapi-dev-request-signing-keys",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/RequestSigningSecret/Resource"
   }
  },
  "SignatureNonceTable612BC86A": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "nonce",
      "AttributeType": "S"
     },
     {
      "AttributeName": "timestamp",
      "AttributeType": "N"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "nonce",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "timestamp",
      "KeyType": "RANGE"
     }
    ],
    "TableName": "toyapi-dev-signature-nonces",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TimeToLiveSpecification": {
     "AttributeName": "ttl",
     "Enabled": true
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureNonceTable/Resource"
   }
  },
  "SignatureAuthorizerLogGroup3FA7C602": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-signatureauthorizer",
    "RetentionInDays": 7,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizerLogGroup/Resource"
   }
  },
  "SignatureAuthorizerFunctionServiceRoleCBE921B7": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizerFunction/ServiceRole/Resource"
   }
  },
  "SignatureAuthorizerFunctionServiceRoleDefaultPolicyD9393081": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue"
       ],
       "Effect": "Allow",
       "Resource": {
        "Ref": "RequestSigningSecretDCC61A81"
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "SignatureNonceTable612BC86A",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "cloudwatch:PutMetricData",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SignatureAuthorizerFunctionServiceRoleDefaultPolicyD9393081",
    "Roles": [
     {
      "Ref": "SignatureAuthorizerFunctionServiceRoleCBE921B7"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizerFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SignatureAuthorizerFunctionD84FDC41": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Request signature validation authorizer (dev)",
    "Environment": {
     "Variables": {
      "ENVIRONMENT": "dev",
      "NONCE_TABLE": {
       "Ref": "SignatureNonceTable612BC86A"
      },
      "MAX_CLOCK_SKEW_SECONDS": "30",
      "SIGNING_SECRET_ARN": {
       "Ref": "RequestSigningSecretDCC61A81"
      },
      "SIGNATURE_TTL_SECONDS": "900",
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-signatureauthorizer",
    "Handler": "co.thismakesmehappy.toyapi.service.SignatureAuthorizerHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "SignatureAuthorizerFunctionServiceRoleCBE921B7",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 10
   },
   "DependsOn": [
    "SignatureAuthorizerFunctionServiceRoleDefaultPolicyD9393081",
    "SignatureAuthorizerFunctionServiceRoleCBE921B7"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizerFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SignatureAuthorizerFunctionToyApiStackdevSignatureAuthorizer33DB35CDPermissionsEB151AC4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SignatureAuthorizerFunctionD84FDC41",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:375004071203:",
       {
        "Ref": "ToyApi351408CF"
       },
       "/authorizers/",
       {
        "Ref": "SignatureAuthorizer270794DB"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizerFunction/ToyApiStackdevSignatureAuthorizer33DB35CD:Permissions"
   }
  },
  "SignatureAuthorizer270794DB": {
   "Type": "AWS::ApiGateway::Authorizer",
   "Properties": {
    "AuthorizerResultTtlInSeconds": 300,
    "AuthorizerUri": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           ":",
           {
            "Fn::GetAtt": [
             "SignatureAuthorizerFunctionD84FDC41",
             "Arn"
            ]
           }
          ]
         }
        ]
       },
       ":apigateway:",
       {
        "Fn::Select": [
         3,
         {
          "Fn::Split": [
           ":",
           {
            "Fn::GetAtt": [
             "SignatureAuthorizerFunctionD84FDC41",
             "Arn"
            ]
           }
          ]
         }
        ]
       },
       ":lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "SignatureAuthorizerFunctionD84FDC41",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    },
    "IdentitySource": "method.request.header.Authorization,method.request.header.X-Signature,method.request.header.X-Timestamp,method.request.header.X-Nonce",
    "Name": "toyapi-dev-signature-authorizer",
    "RestApiId": {
     "Ref": "ToyApi351408CF"
    },
    "Type": "TOKEN"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureAuthorizer/Resource"
   }
  },
  "SecureAdminLogGroupFCAED920": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-secureadmin",
    "RetentionInDays": 14,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SecureAdminLogGroup/Resource"
   }
  },
  "SecureAdminFunctionServiceRoleFBACBF59": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SecureAdminFunction/ServiceRole/Resource"
   }
  },
  "SecureAdminFunctionServiceRoleDefaultPolicy71647EFB": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "apigateway:GET",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cognito-idp:AdminDisableUser",
        "cognito-idp:AdminGetUser",
        "cognito-idp:ListUsers",
        "logs:DescribeLogGroups",
        "logs:DescribeLogStreams",
        "logs:GetLogEvents"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:apigateway:us-east-1::/restapis/*",
        "arn:aws:cloudwatch:us-east-1:375004071203:*",
        "arn:aws:cognito-idp:us-east-1:375004071203:userpool/*",
        "arn:aws:logs:us-east-1:375004071203:log-group:/aws/lambda/toyapi-dev-*"
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SecureAdminFunctionServiceRoleDefaultPolicy71647EFB",
    "Roles": [
     {
      "Ref": "SecureAdminFunctionServiceRoleFBACBF59"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SecureAdminFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SecureAdminFunction6AAF79AD": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Secure admin operations with signature validation (dev)",
    "Environment": {
     "Variables": {
      "ADMIN_LEVEL": "HIGH_SECURITY",
      "ENVIRONMENT": "dev",
      "REGION": "us-east-1"
     }
    },
    "FunctionName": "toyapi-dev-secureadmin",
    "Handler": "co.thismakesmehappy.toyapi.service.SecureAdminHandler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "SecureAdminFunctionServiceRoleFBACBF59",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 30
   },
   "DependsOn": [
    "SecureAdminFunctionServiceRoleDefaultPolicy71647EFB",
    "SecureAdminFunctionServiceRoleFBACBF59"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SecureAdminFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SigningKeyRotationLogGroupECAF8AEA": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/toyapi-dev-signingkeyrotation",
    "RetentionInDays": 14,
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationLogGroup/Resource"
   }
  },
  "SigningKeyRotationFunctionServiceRoleF0145EA4": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationFunction/ServiceRole/Resource"
   }
  },
  "SigningKeyRotationFunctionServiceRoleDefaultPolicy2805F9A9": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue",
        "secretsmanager:PutSecretValue",
        "secretsmanager:UpdateSecret"
       ],
       "Effect": "Allow",
       "Resource": {
        "Ref": "RequestSigningSecretDCC61A81"
       }
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": [
        "arn:aws:sns:us-east-1:375004071203:toyapi-dev-*",
        {
         "Ref": "SigningKeyRotationNotifications21F69F6A"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SigningKeyRotationFunctionServiceRoleDefaultPolicy2805F9A9",
    "Roles": [
     {
      "Ref": "SigningKeyRotationFunctionServiceRoleF0145EA4"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SigningKeyRotationFunction4CE16013": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar"
    },
    "Description": "Signing key rotation for enhanced security (dev)",
    "Environment": {
     "Variables": {
      "ENVIRONMENT": "dev",
      "KEY_LENGTH": "64",
      "SIGNING_SECRET_ARN": {
       "Ref": "RequestSigningSecretDCC61A81"
      },
      "REGION": "us-east-1",
      "KEY_ROTATION_TOPIC_ARN": {
       "Ref": "SigningKeyRotationNotifications21F69F6A"
      }
     }
    },
    "FunctionName": "toyapi-dev-signingkeyrotation",
    "Handler": "co.thismakesmehappy.toyapi.service.SigningKeyRotationHandler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "SigningKeyRotationFunctionServiceRoleF0145EA4",
      "Arn"
     ]
    },
    "Runtime": "java17",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "Timeout": 120
   },
   "DependsOn": [
    "SigningKeyRotationFunctionServiceRoleDefaultPolicy2805F9A9",
    "SigningKeyRotationFunctionServiceRoleF0145EA4"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationFunction/Resource",
    "aws:asset:path": "asset.0199867977d7e4fbb7e05bfd76dd5e6d3138f60eb2e0462924cc812937dc81d3.jar",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SigningKeyRotationScheduleC99FDB7F": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "Description": "Quarterly rotation of request signing keys",
    "Name": "toyapi-dev-signing-key-rotation",
    "ScheduleExpression": "cron(0 3 1 1,4,7,10 ? *)",
    "State": "DISABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "SigningKeyRotationFunction4CE16013",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationSchedule/Resource"
   }
  },
  "SigningKeyRotationScheduleAllowEventRuleToyApiStackdevSigningKeyRotationFunction71FD9C20376CCC4B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SigningKeyRotationFunction4CE16013",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "SigningKeyRotationScheduleC99FDB7F",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationSchedule/AllowEventRuleToyApiStackdevSigningKeyRotationFunction71FD9C20"
   }
  },
  "SigningKeyRotationNotifications21F69F6A": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "Signing Key Rotation Notifications (dev)",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TopicName": "toyapi-dev-signing-key-rotation-notifications"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationNotifications/Resource"
   }
  },
  "SigningKeyRotationNotificationssecuritytoyapisigningthismakesmehappyco5A0328B7": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "security+toyapi-signing@thismakesmehappy.co",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "SigningKeyRotationNotifications21F69F6A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SigningKeyRotationNotifications/security+toyapi-signing@thismakesmehappy.co/Resource"
   }
  },
  "SignatureValidationFailureAlarm96A14843": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "High number of signature validation failures",
    "AlarmName": "toyapi-dev-signature-validation-failures",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "FunctionName",
      "Value": {
       "Ref": "SignatureAuthorizerFunctionD84FDC41"
      }
     }
    ],
    "EvaluationPeriods": 2,
    "MetricName": "Errors",
    "Namespace": "AWS/Lambda",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 10,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureValidationFailureAlarm/Resource"
   }
  },
  "ReplayAttackDetectionAlarmDB595FC3": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "Potential replay attack detected",
    "AlarmName": "toyapi-dev-replay-attack-detection",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "TableName",
      "Value": {
       "Ref": "SignatureNonceTable612BC86A"
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "ConsumedReadCapacityUnits",
    "Namespace": "AWS/DynamoDB",
    "Period": 300,
    "Statistic": "Sum",
    "Threshold": 100,
    "TreatMissingData": "notBreaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ReplayAttackDetectionAlarm/Resource"
   }
  },
  "SignatureSuccessRateAlarmB41686A9": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "Signature validation success rate below threshold",
    "AlarmName": "toyapi-dev-signature-success-rate",
    "ComparisonOperator": "LessThanThreshold",
    "EvaluationPeriods": 2,
    "MetricName": "SignatureValidationSuccessRate",
    "Namespace": "ToyApi/dev",
    "Period": 600,
    "Statistic": "Average",
    "Threshold": 0.95,
    "TreatMissingData": "breaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/SignatureSuccessRateAlarm/Resource"
   }
  },
  "CacheNotifications8855C059": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "Cache Performance Alerts (dev)",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TopicName": "toyapi-dev-cache-alerts"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheNotifications/Resource"
   }
  },
  "CacheNotificationsperformancetoyapithismakesmehappycoC73F1A05": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "performance+toyapi@thismakesmehappy.co",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "CacheNotifications8855C059"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheNotifications/performance+toyapi@thismakesmehappy.co/Resource"
   }
  },
  "CacheVpc1387FA76": {
   "Type": "AWS::EC2::VPC",
   "Properties": {
    "CidrBlock": "10.0.0.0/16",
    "EnableDnsHostnames": true,
    "EnableDnsSupport": true,
    "InstanceTenancy": "default",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "toyapi-dev-cache-vpc"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/Resource"
   }
  },
  "CacheVpcpublicSubnet1Subnet6A18CDD3": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.0.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/Subnet"
   }
  },
  "CacheVpcpublicSubnet1RouteTable7EDB87D0": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/RouteTable"
   }
  },
  "CacheVpcpublicSubnet1RouteTableAssociation4CDAF183": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcpublicSubnet1RouteTable7EDB87D0"
    },
    "SubnetId": {
     "Ref": "CacheVpcpublicSubnet1Subnet6A18CDD3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/RouteTableAssociation"
   }
  },
  "CacheVpcpublicSubnet1DefaultRoute513AAA9B": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "CacheVpcIGW1073D057"
    },
    "RouteTableId": {
     "Ref": "CacheVpcpublicSubnet1RouteTable7EDB87D0"
    }
   },
   "DependsOn": [
    "CacheVpcVPCGWDC3DAFA1"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/DefaultRoute"
   }
  },
  "CacheVpcpublicSubnet1EIP5801B8D2": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/EIP"
   }
  },
  "CacheVpcpublicSubnet1NATGateway43E2604E": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "CacheVpcpublicSubnet1EIP5801B8D2",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "CacheVpcpublicSubnet1Subnet6A18CDD3"
    },
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "DependsOn": [
    "CacheVpcpublicSubnet1DefaultRoute513AAA9B",
    "CacheVpcpublicSubnet1RouteTableAssociation4CDAF183"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet1/NATGateway"
   }
  },
  "CacheVpcpublicSubnet2SubnetBDA75D7D": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.1.0/24",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet2/Subnet"
   }
  },
  "CacheVpcpublicSubnet2RouteTable2FC5CE5D": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/publicSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet2/RouteTable"
   }
  },
  "CacheVpcpublicSubnet2RouteTableAssociation0756125E": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcpublicSubnet2RouteTable2FC5CE5D"
    },
    "SubnetId": {
     "Ref": "CacheVpcpublicSubnet2SubnetBDA75D7D"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet2/RouteTableAssociation"
   }
  },
  "CacheVpcpublicSubnet2DefaultRouteC50A44A3": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "CacheVpcIGW1073D057"
    },
    "RouteTableId": {
     "Ref": "CacheVpcpublicSubnet2RouteTable2FC5CE5D"
    }
   },
   "DependsOn": [
    "CacheVpcVPCGWDC3DAFA1"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/publicSubnet2/DefaultRoute"
   }
  },
  "CacheVpcprivateSubnet1Subnet9C156C93": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.2.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/privateSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet1/Subnet"
   }
  },
  "CacheVpcprivateSubnet1RouteTable25E70F1C": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/privateSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet1/RouteTable"
   }
  },
  "CacheVpcprivateSubnet1RouteTableAssociation200593CC": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcprivateSubnet1RouteTable25E70F1C"
    },
    "SubnetId": {
     "Ref": "CacheVpcprivateSubnet1Subnet9C156C93"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet1/RouteTableAssociation"
   }
  },
  "CacheVpcprivateSubnet1DefaultRouteB4F7785C": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "CacheVpcpublicSubnet1NATGateway43E2604E"
    },
    "RouteTableId": {
     "Ref": "CacheVpcprivateSubnet1RouteTable25E70F1C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet1/DefaultRoute"
   }
  },
  "CacheVpcprivateSubnet2Subnet33A28251": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.3.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/privateSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet2/Subnet"
   }
  },
  "CacheVpcprivateSubnet2RouteTable14832F9A": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/privateSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet2/RouteTable"
   }
  },
  "CacheVpcprivateSubnet2RouteTableAssociationA33BE098": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcprivateSubnet2RouteTable14832F9A"
    },
    "SubnetId": {
     "Ref": "CacheVpcprivateSubnet2Subnet33A28251"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet2/RouteTableAssociation"
   }
  },
  "CacheVpcprivateSubnet2DefaultRoute4541BE96": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "CacheVpcpublicSubnet1NATGateway43E2604E"
    },
    "RouteTableId": {
     "Ref": "CacheVpcprivateSubnet2RouteTable14832F9A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/privateSubnet2/DefaultRoute"
   }
  },
  "CacheVpcisolatedSubnet1SubnetCB7F5D28": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1a",
    "CidrBlock": "10.0.4.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "isolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/isolatedSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet1/Subnet"
   }
  },
  "CacheVpcisolatedSubnet1RouteTableD5078CB9": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/isolatedSubnet1"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet1/RouteTable"
   }
  },
  "CacheVpcisolatedSubnet1RouteTableAssociationB63EC129": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcisolatedSubnet1RouteTableD5078CB9"
    },
    "SubnetId": {
     "Ref": "CacheVpcisolatedSubnet1SubnetCB7F5D28"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet1/RouteTableAssociation"
   }
  },
  "CacheVpcisolatedSubnet2SubnetFB4F5E78": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": "us-east-1b",
    "CidrBlock": "10.0.5.0/24",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "isolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/isolatedSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet2/Subnet"
   }
  },
  "CacheVpcisolatedSubnet2RouteTableB792FA79": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "ToyApiStack-dev/CacheVpc/isolatedSubnet2"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet2/RouteTable"
   }
  },
  "CacheVpcisolatedSubnet2RouteTableAssociation634C921F": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "CacheVpcisolatedSubnet2RouteTableB792FA79"
    },
    "SubnetId": {
     "Ref": "CacheVpcisolatedSubnet2SubnetFB4F5E78"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/isolatedSubnet2/RouteTableAssociation"
   }
  },
  "CacheVpcIGW1073D057": {
   "Type": "AWS::EC2::InternetGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Name",
      "Value": "toyapi-dev-cache-vpc"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/IGW"
   }
  },
  "CacheVpcVPCGWDC3DAFA1": {
   "Type": "AWS::EC2::VPCGatewayAttachment",
   "Properties": {
    "InternetGatewayId": {
     "Ref": "CacheVpcIGW1073D057"
    },
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/VPCGW"
   }
  },
  "CacheVpcRestrictDefaultSecurityGroupCustomResource0FF80094": {
   "Type": "Custom::VpcRestrictDefaultSG",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E",
      "Arn"
     ]
    },
    "DefaultSecurityGroupId": {
     "Fn::GetAtt": [
      "CacheVpc1387FA76",
      "DefaultSecurityGroup"
     ]
    },
    "Account": "375004071203"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheVpc/RestrictDefaultSecurityGroupCustomResource/Default"
   }
  },
  "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ],
    "Policies": [
     {
      "PolicyName": "Inline",
      "PolicyDocument": {
       "Version": "2012-10-17",
       "Statement": [
        {
         "Effect": "Allow",
         "Action": [
          "ec2:AuthorizeSecurityGroupIngress",
          "ec2:AuthorizeSecurityGroupEgress",
          "ec2:RevokeSecurityGroupIngress",
          "ec2:RevokeSecurityGroupEgress"
         ],
         "Resource": [
          {
           "Fn::Join": [
            "",
            [
             "arn:aws:ec2:us-east-1:375004071203:security-group/",
             {
              "Fn::GetAtt": [
               "CacheVpc1387FA76",
               "DefaultSecurityGroup"
              ]
             }
            ]
           ]
          }
         ]
        }
       ]
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role"
   }
  },
  "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-375004071203-us-east-1",
     "S3Key": "e77031893275c08bcaa0a774aa8b611727afd045b3b5d8e1e6f0f04063d9d386.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0",
      "Arn"
     ]
    },
    "Runtime": "nodejs16.x",
    "Description": "Lambda function for removing all inbound/outbound rules from the VPC default security group"
   },
   "DependsOn": [
    "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0"
   ],
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler",
    "aws:asset:path": "asset.e77031893275c08bcaa0a774aa8b611727afd045b3b5d8e1e6f0f04063d9d386",
    "aws:asset:property": "Code"
   }
  },
  "CacheSecurityGroupC6A3ACCF": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for ElastiCache Redis cluster",
    "GroupName": "toyapi-dev-cache-sg",
    "SecurityGroupEgress": [
     {
      "CidrIp": "255.255.255.255/32",
      "Description": "Disallow all traffic",
      "FromPort": 252,
      "IpProtocol": "icmp",
      "ToPort": 86
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": {
       "Fn::GetAtt": [
        "CacheVpc1387FA76",
        "CidrBlock"
       ]
      },
      "Description": "Redis traffic from Lambda functions",
      "FromPort": 6379,
      "IpProtocol": "tcp",
      "ToPort": 6379
     },
     {
      "CidrIp": {
       "Fn::GetAtt": [
        "CacheVpc1387FA76",
        "CidrBlock"
       ]
      },
      "Description": "DAX traffic from Lambda functions",
      "FromPort": 8111,
      "IpProtocol": "tcp",
      "ToPort": 8111
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheSecurityGroup/Resource"
   }
  },
  "CacheSubnetGroup": {
   "Type": "AWS::ElastiCache::SubnetGroup",
   "Properties": {
    "CacheSubnetGroupName": "toyapi-dev-cache-subnet-group",
    "Description": "Subnet group for ElastiCache cluster",
    "SubnetIds": [
     {
      "Ref": "CacheVpcprivateSubnet1Subnet9C156C93"
     },
     {
      "Ref": "CacheVpcprivateSubnet2Subnet33A28251"
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheSubnetGroup"
   }
  },
  "RedisParameterGroup": {
   "Type": "AWS::ElastiCache::ParameterGroup",
   "Properties": {
    "CacheParameterGroupFamily": "redis7.x",
    "Description": "Parameter group for Redis cluster optimization",
    "Properties": {
     "tcp-keepalive": "60",
     "maxclients": "10000",
     "timeout": "300",
     "maxmemory-policy": "allkeys-lru"
    },
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/RedisParameterGroup"
   }
  },
  "RedisCluster": {
   "Type": "AWS::ElastiCache::ReplicationGroup",
   "Properties": {
    "AtRestEncryptionEnabled": true,
    "AutomaticFailoverEnabled": false,
    "CacheNodeType": "cache.t3.micro",
    "CacheParameterGroupName": {
     "Ref": "RedisParameterGroup"
    },
    "CacheSubnetGroupName": "toyapi-dev-cache-subnet-group",
    "Engine": "redis",
    "EngineVersion": "7.0",
    "MultiAZEnabled": false,
    "NotificationTopicArn": {
     "Ref": "CacheNotifications8855C059"
    },
    "NumCacheClusters": 1,
    "Port": 6379,
    "PreferredMaintenanceWindow": "sun:05:00-sun:07:00",
    "ReplicationGroupDescription": "Redis cluster for API caching",
    "ReplicationGroupId": "toyapi-dev-redis",
    "SecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "CacheSecurityGroupC6A3ACCF",
       "GroupId"
      ]
     }
    ],
    "SnapshotRetentionLimit": 1,
    "SnapshotWindow": "03:00-05:00",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TransitEncryptionEnabled": false
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/RedisCluster"
   }
  },
  "DaxRoleE0F50FF6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "dax.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonDaxFullAccess"
       ]
      ]
     }
    ],
    "RoleName": "toyapi-dev-dax-role",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DaxRole/Resource"
   }
  },
  "DaxRoleDefaultPolicy1E7AA565": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:dynamodb:us-east-1:375004071203:table/toyapi-dev-*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "DaxRoleDefaultPolicy1E7AA565",
    "Roles": [
     {
      "Ref": "DaxRoleE0F50FF6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DaxRole/DefaultPolicy/Resource"
   }
  },
  "DaxSubnetGroup": {
   "Type": "AWS::DAX::SubnetGroup",
   "Properties": {
    "Description": "Subnet group for DAX cluster",
    "SubnetGroupName": "toyapi-dev-dax-subnet-group",
    "SubnetIds": [
     {
      "Ref": "CacheVpcprivateSubnet1Subnet9C156C93"
     },
     {
      "Ref": "CacheVpcprivateSubnet2Subnet33A28251"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DaxSubnetGroup"
   }
  },
  "DaxParameterGroup": {
   "Type": "AWS::DAX::ParameterGroup",
   "Properties": {
    "Description": "Parameter group for DAX cluster",
    "ParameterGroupName": "toyapi-dev-dax-params"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DaxParameterGroup"
   }
  },
  "DaxCluster": {
   "Type": "AWS::DAX::Cluster",
   "Properties": {
    "ClusterName": "toyapi-dev-dax",
    "Description": "DAX cluster for DynamoDB acceleration",
    "IAMRoleARN": {
     "Fn::GetAtt": [
      "DaxRoleE0F50FF6",
      "Arn"
     ]
    },
    "NodeType": "dax.t2.small",
    "NotificationTopicARN": {
     "Ref": "CacheNotifications8855C059"
    },
    "ParameterGroupName": "toyapi-dev-dax-params",
    "PreferredMaintenanceWindow": "sun:07:00-sun:09:00",
    "ReplicationFactor": 1,
    "SecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "CacheSecurityGroupC6A3ACCF",
       "GroupId"
      ]
     }
    ],
    "SubnetGroupName": "toyapi-dev-dax-subnet-group",
    "Tags": {
     "CostCenter": "ToyApi-dev",
     "Environment": "dev",
     "Owner": "thismakesmehappy",
     "Project": "ToyApi"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/DaxCluster"
   }
  },
  "LambdaCacheSecurityGroup0CF52BF3": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for Lambda functions with cache access",
    "GroupName": "toyapi-dev-lambda-cache-sg",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "VpcId": {
     "Ref": "CacheVpc1387FA76"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/LambdaCacheSecurityGroup/Resource"
   }
  },
  "RedisMemoryUtilizationAlarmEFC2DC99": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "Redis memory utilization is too high",
    "AlarmName": "toyapi-dev-redis-memory-utilization",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "CacheClusterId",
      "Value": "toyapi-dev-redis-001"
     }
    ],
    "EvaluationPeriods": 2,
    "MetricName": "DatabaseMemoryUsagePercentage",
    "Namespace": "AWS/ElastiCache",
    "Period": 300,
    "Statistic": "Average",
    "Threshold": 80,
    "TreatMissingData": "breaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/RedisMemoryUtilizationAlarm/Resource"
   }
  },
  "RedisCpuUtilizationAlarm425CA236": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "Redis CPU utilization is too high",
    "AlarmName": "toyapi-dev-redis-cpu-utilization",
    "ComparisonOperator": "GreaterThanThreshold",
    "Dimensions": [
     {
      "Name": "CacheClusterId",
      "Value": "toyapi-dev-redis-001"
     }
    ],
    "EvaluationPeriods": 3,
    "MetricName": "CPUUtilization",
    "Namespace": "AWS/ElastiCache",
    "Period": 300,
    "Statistic": "Average",
    "Threshold": 75,
    "TreatMissingData": "breaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/RedisCpuUtilizationAlarm/Resource"
   }
  },
  "CacheHitRatioAlarmD745D46C": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "Cache hit ratio is too low",
    "AlarmName": "toyapi-dev-cache-hit-ratio",
    "ComparisonOperator": "LessThanThreshold",
    "Dimensions": [
     {
      "Name": "CacheClusterId",
      "Value": "toyapi-dev-redis-001"
     }
    ],
    "EvaluationPeriods": 2,
    "MetricName": "CacheHitRate",
    "Namespace": "AWS/ElastiCache",
    "Period": 900,
    "Statistic": "Average",
    "Threshold": 0.8,
    "TreatMissingData": "breaching"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheHitRatioAlarm/Resource"
   }
  },
  "CacheDashboard679F19EC": {
   "Type": "AWS::CloudWatch::Dashboard",
   "Properties": {
    "DashboardBody": {
     "Fn::Join": [
      "",
      [
       "{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Redis Memory Utilization\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AWS/ElastiCache\",\"DatabaseMemoryUsagePercentage\",\"CacheClusterId\",\"toyapi-dev-redis-001\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Redis CPU Utilization\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AWS/ElastiCache\",\"CPUUtilization\",\"CacheClusterId\",\"toyapi-dev-redis-001\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":24,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cache Performance\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AWS/ElastiCache\",\"CacheHitRate\",\"CacheClusterId\",\"toyapi-dev-redis-001\"],[\"AWS/ElastiCache\",\"CurrConnections\",\"CacheClusterId\",\"toyapi-dev-redis-001\"]],\"yAxis\":{}}}]}"
      ]
     ]
    },
    "DashboardName": "toyapi-dev-cache-performance"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CacheDashboard/Resource"
   }
  },
  "ApiCachePolicyF71AA3E6": {
   "Type": "AWS::CloudFront::CachePolicy",
   "Properties": {
    "CachePolicyConfig": {
     "Comment": "Cache policy for API Gateway with JWT authentication support",
     "DefaultTTL": 60,
     "MaxTTL": 3600,
     "MinTTL": 0,
     "Name": "toyapi-dev-api-cache-policy",
     "ParametersInCacheKeyAndForwardedToOrigin": {
      "CookiesConfig": {
       "CookieBehavior": "none"
      },
      "EnableAcceptEncodingBrotli": true,
      "EnableAcceptEncodingGzip": true,
      "HeadersConfig": {
       "HeaderBehavior": "whitelist",
       "Headers": [
        "Authorization",
        "Content-Type",
        "Accept",
        "Origin",
        "X-API-Key"
       ]
      },
      "QueryStringsConfig": {
       "QueryStringBehavior": "all"
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiCachePolicy/Resource"
   }
  },
  "ApiOriginPolicy2F4DD6F3": {
   "Type": "AWS::CloudFront::OriginRequestPolicy",
   "Properties": {
    "OriginRequestPolicyConfig": {
     "Comment": "Origin request policy for API Gateway",
     "CookiesConfig": {
      "CookieBehavior": "none"
     },
     "HeadersConfig": {
      "HeaderBehavior": "whitelist",
      "Headers": [
       "Content-Type",
       "Accept",
       "User-Agent",
       "X-API-Key",
       "X-Forwarded-For"
      ]
     },
     "Name": "toyapi-dev-api-origin-policy",
     "QueryStringsConfig": {
      "QueryStringBehavior": "all"
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiOriginPolicy/Resource"
   }
  },
  "PublicCachePolicy1D5A1791": {
   "Type": "AWS::CloudFront::CachePolicy",
   "Properties": {
    "CachePolicyConfig": {
     "Comment": "Longer cache policy for public endpoints",
     "DefaultTTL": 300,
     "MaxTTL": 7200,
     "MinTTL": 0,
     "Name": "toyapi-dev-public-cache-policy",
     "ParametersInCacheKeyAndForwardedToOrigin": {
      "CookiesConfig": {
       "CookieBehavior": "none"
      },
      "EnableAcceptEncodingBrotli": true,
      "EnableAcceptEncodingGzip": true,
      "HeadersConfig": {
       "HeaderBehavior": "whitelist",
       "Headers": [
        "Accept",
        "Content-Type"
       ]
      },
      "QueryStringsConfig": {
       "QueryStringBehavior": "all"
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/PublicCachePolicy/Resource"
   }
  },
  "ApiResponseHeadersPolicyBD8FDCA6": {
   "Type": "AWS::CloudFront::ResponseHeadersPolicy",
   "Properties": {
    "ResponseHeadersPolicyConfig": {
     "Comment": "Security and CORS headers for API",
     "CorsConfig": {
      "AccessControlAllowCredentials": false,
      "AccessControlAllowHeaders": {
       "Items": [
        "*"
       ]
      },
      "AccessControlAllowMethods": {
       "Items": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "OPTIONS"
       ]
      },
      "AccessControlAllowOrigins": {
       "Items": [
        "*"
       ]
      },
      "AccessControlMaxAgeSec": 3600,
      "OriginOverride": true
     },
     "Name": "toyapi-dev-api-security-headers",
     "SecurityHeadersConfig": {
      "ContentTypeOptions": {
       "Override": true
      },
      "FrameOptions": {
       "FrameOption": "DENY",
       "Override": true
      },
      "ReferrerPolicy": {
       "Override": true,
       "ReferrerPolicy": "strict-origin-when-cross-origin"
      },
      "StrictTransportSecurity": {
       "AccessControlMaxAgeSec": 31536000,
       "IncludeSubdomains": true,
       "Override": true
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/ApiResponseHeadersPolicy/Resource"
   }
  },
  "CloudFrontLogsBucketFE303C6F": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketName": "toyapi-dev-cloudfront-logs-375004071203",
    "LifecycleConfiguration": {
     "Rules": [
      {
       "ExpirationInDays": 90,
       "Id": "DeleteOldLogs",
       "Status": "Enabled",
       "Transitions": [
        {
         "StorageClass": "STANDARD_IA",
         "TransitionInDays": 30
        },
        {
         "StorageClass": "GLACIER",
         "TransitionInDays": 90
        }
       ]
      }
     ]
    },
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CloudFrontLogsBucket/Resource"
   }
  },
  "CloudFrontDistributionBA64CE3A": {
   "Type": "AWS::CloudFront::Distribution",
   "Properties": {
    "DistributionConfig": {
     "CacheBehaviors": [
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS",
        "PUT",
        "PATCH",
        "POST",
        "DELETE"
       ],
       "CachePolicyId": {
        "Ref": "PublicCachePolicy1D5A1791"
       },
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "OriginRequestPolicyId": {
        "Ref": "ApiOriginPolicy2F4DD6F3"
       },
       "PathPattern": "/public/*",
       "ResponseHeadersPolicyId": {
        "Ref": "ApiResponseHeadersPolicyBD8FDCA6"
       },
       "TargetOriginId": "ToyApiStackdevCloudFrontDistributionOrigin22F74A1AE",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS",
        "PUT",
        "PATCH",
        "POST",
        "DELETE"
       ],
       "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
       "Compress": true,
       "OriginRequestPolicyId": {
        "Ref": "ApiOriginPolicy2F4DD6F3"
       },
       "PathPattern": "/v*/auth/*",
       "ResponseHeadersPolicyId": {
        "Ref": "ApiResponseHeadersPolicyBD8FDCA6"
       },
       "TargetOriginId": "ToyApiStackdevCloudFrontDistributionOrigin3BEC09DD0",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS",
        "PUT",
        "PATCH",
        "POST",
        "DELETE"
       ],
       "CachePolicyId": {
        "Ref": "PublicCachePolicy1D5A1791"
       },
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "OriginRequestPolicyId": {
        "Ref": "ApiOriginPolicy2F4DD6F3"
       },
       "PathPattern": "/v*/public/*",
       "ResponseHeadersPolicyId": {
        "Ref": "ApiResponseHeadersPolicyBD8FDCA6"
       },
       "TargetOriginId": "ToyApiStackdevCloudFrontDistributionOrigin4DD47058E",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS",
        "PUT",
        "PATCH",
        "POST",
        "DELETE"
       ],
       "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
       "Compress": true,
       "OriginRequestPolicyId": {
        "Ref": "ApiOriginPolicy2F4DD6F3"
       },
       "PathPattern": "/auth/*",
       "ResponseHeadersPolicyId": {
        "Ref": "ApiResponseHeadersPolicyBD8FDCA6"
       },
       "TargetOriginId": "ToyApiStackdevCloudFrontDistributionOrigin583873482",
       "ViewerProtocolPolicy": "redirect-to-https"
      }
     ],
     "Comment": "Global CDN for ToyApi (dev)",
     "DefaultCacheBehavior": {
      "AllowedMethods": [
       "GET",
       "HEAD",
       "OPTIONS",
       "PUT",
       "PATCH",
       "POST",
       "DELETE"
      ],
      "CachePolicyId": {
       "Ref": "ApiCachePolicyF71AA3E6"
      },
      "CachedMethods": [
       "GET",
       "HEAD",
       "OPTIONS"
      ],
      "Compress": true,
      "OriginRequestPolicyId": {
       "Ref": "ApiOriginPolicy2F4DD6F3"
      },
      "ResponseHeadersPolicyId": {
       "Ref": "ApiResponseHeadersPolicyBD8FDCA6"
      },
      "TargetOriginId": "ToyApiStackdevCloudFrontDistributionOrigin12D18D815",
      "ViewerProtocolPolicy": "redirect-to-https"
     },
     "DefaultRootObject": "",
     "Enabled": true,
     "HttpVersion": "http2",
     "IPV6Enabled": true,
     "Logging": {
      "Bucket": {
       "Fn::GetAtt": [
        "CloudFrontLogsBucketFE303C6F",
        "RegionalDomainName"
       ]
      },
      "Prefix": "api-access-logs/"
     },
     "Origins": [
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::Join": [
             "",
             [
              "https://",
              {
               "Ref": "ToyApi351408CF"
              },
              ".execute-api.us-east-1.",
              {
               "Ref": "AWS::URLSuffix"
              },
              "/",
              {
               "Ref": "ToyApiDeploymentStagedevCCBD374C"
              },
              "/"
             ]
            ]
           }
          ]
         }
        ]
       },
       "Id": "ToyApiStackdevCloudFrontDistributionOrigin12D18D815",
       "OriginPath": {
        "Fn::Join": [
         "",
         [
          "/",
          {
           "Ref": "ToyApiDeploymentStagedevCCBD374C"
          }
         ]
        ]
       }
      },
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::Join": [
             "",
             [
              "https://",
              {
               "Ref": "ToyApi351408CF"
              },
              ".execute-api.us-east-1.",
              {
               "Ref": "AWS::URLSuffix"
              },
              "/",
              {
               "Ref": "ToyApiDeploymentStagedevCCBD374C"
              },
              "/"
             ]
            ]
           }
          ]
         }
        ]
       },
       "Id": "ToyApiStackdevCloudFrontDistributionOrigin22F74A1AE",
       "OriginPath": {
        "Fn::Join": [
         "",
         [
          "/",
          {
           "Ref": "ToyApiDeploymentStagedevCCBD374C"
          }
         ]
        ]
       }
      },
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::Join": [
             "",
             [
              "https://",
              {
               "Ref": "ToyApi351408CF"
              },
              ".execute-api.us-east-1.",
              {
               "Ref": "AWS::URLSuffix"
              },
              "/",
              {
               "Ref": "ToyApiDeploymentStagedevCCBD374C"
              },
              "/"
             ]
            ]
           }
          ]
         }
        ]
       },
       "Id": "ToyApiStackdevCloudFrontDistributionOrigin3BEC09DD0",
       "OriginPath": {
        "Fn::Join": [
         "",
         [
          "/",
          {
           "Ref": "ToyApiDeploymentStagedevCCBD374C"
          }
         ]
        ]
       }
      },
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::Join": [
             "",
             [
              "https://",
              {
               "Ref": "ToyApi351408CF"
              },
              ".execute-api.us-east-1.",
              {
               "Ref": "AWS::URLSuffix"
              },
              "/",
              {
               "Ref": "ToyApiDeploymentStagedevCCBD374C"
              },
              "/"
             ]
            ]
           }
          ]
         }
        ]
       },
       "Id": "ToyApiStackdevCloudFrontDistributionOrigin4DD47058E",
       "OriginPath": {
        "Fn::Join": [
         "",
         [
          "/",
          {
           "Ref": "ToyApiDeploymentStagedevCCBD374C"
          }
         ]
        ]
       }
      },
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::Join": [
             "",
             [
              "https://",
              {
               "Ref": "ToyApi351408CF"
              },
              ".execute-api.us-east-1.",
              {
               "Ref": "AWS::URLSuffix"
              },
              "/",
              {
               "Ref": "ToyApiDeploymentStagedevCCBD374C"
              },
              "/"
             ]
            ]
           }
          ]
         }
        ]
       },
       "Id": "ToyApiStackdevCloudFrontDistributionOrigin583873482",
       "OriginPath": {
        "Fn::Join": [
         "",
         [
          "/",
          {
           "Ref": "ToyApiDeploymentStagedevCCBD374C"
          }
         ]
        ]
       }
      }
     ],
     "PriceClass": "PriceClass_100"
    },
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CloudFrontDistribution/Resource"
   }
  },
  "BudgetAlertsB25CE4A8": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "ToyApi Budget Alerts (dev)",
    "Tags": [
     {
      "Key": "CostCenter",
      "Value": "ToyApi-dev"
     },
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "Owner",
      "Value": "thismakesmehappy"
     },
     {
      "Key": "Project",
      "Value": "ToyApi"
     }
    ],
    "TopicName": "toyapi-dev-budget-alerts"
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/BudgetAlerts/Resource"
   }
  },
  "BudgetAlertsbernardotoyAPIthismakesmehappyco2B4D3E22": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "bernardo+toyAPI@thismakesmehappy.co",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "BudgetAlertsB25CE4A8"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/BudgetAlerts/bernardo+toyAPI@thismakesmehappy.co/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/41USXfTMBD+Lb27oi1cOLoplEABP3c79o3liSNiS0ZL0uDn/85I8lZeDpzmm0Wzj67Yx0t2cQYHc87L3XktCtbdW+C7hEQvXXmU0KiShA9Q1JisNjKAPuGqksIq1j0a1JlStddNeASrWqC0S1WU9EmtKsO6O1XdauVabzFi0kFTlMC6z05yK5T02iXOUDfCGOL6REDDulzF3ALNVC34MdgF1Cfm/QsYg9aw1BPiWXft+A7tNRhMIvQPIuoTaEUFFg9wJN9obNqK4H6GKefKUWU32Nbq2AxFLjhqYhVyioCeKqc5hoDf0W5V6ZUDGrVDkAHHDo+NM6kjWy3+oA4JzFyOvx1l9gS1KMEqHb38I3s0lEZWg4zDOMV8w2NC5XniA0T0oHa4CNYnB9jsr1hHFuvsPrYtxwpfM7AWtRxEz1ikq7sZUeMVF2DDzIyk0T+oVvCwUAHcu8JwLdpxxkuetq1WrjyA5VvWpTXoJmQYwA2YbaFAh35ODAVBrmnkDUgqT9NWBz64DqhPcE+DokxyN2yP84uNnKp7akNqT9kqyVxBW0TpyOH1hHLlLE53EeWzbFHxZOzBp3XmyQ+wt3HFkkyLPcHZ8Vr6TuJkEDMZuNTSeW7jjiF3WtjjdEJvBFRKDcYKTuYYBhYjTNYZaGiQQk2SnPaX7H3Og4sSXv/v6ap2xvr9CKPaaCUtPfSh53tcsj+1qMS4prPJKTFdRKukwS8IJWozG59W3AhjtSjc2Pkl3/fzrYW/wF+nkFUI7WzrqP9Uh2pOX+QbVabVXpS+5K+wh3dXH9gFuzz7ZYQ41/Q1iAZZHulfY7oI4GUFAAA="
   },
   "Metadata": {
    "aws:cdk:path": "ToyApiStack-dev/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "ToyApiEndpointE4265390": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ToyApi351408CF"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ToyApiDeploymentStagedevCCBD374C"
      },
      "/"
     ]
    ]
   }
  },
  "RedisEndpoint": {
   "Description": "Redis cluster endpoint",
   "Value": {
    "Fn::GetAtt": [
     "RedisCluster",
     "PrimaryEndPoint.Address"
    ]
   }
  },
  "RedisPort": {
   "Description": "Redis cluster port",
   "Value": {
    "Fn::GetAtt": [
     "RedisCluster",
     "PrimaryEndPoint.Port"
    ]
   }
  },
  "CacheDashboardUrl": {
   "Description": "Cache performance dashboard URL",
   "Value": "https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#dashboards:name=toyapi-dev-cache-performance"
  },
  "CloudFrontDistributionId": {
   "Description": "CloudFront distribution ID",
   "Value": {
    "Ref": "CloudFrontDistributionBA64CE3A"
   }
  },
  "CloudFrontDomainName": {
   "Description": "CloudFront distribution domain name",
   "Value": {
    "Fn::GetAtt": [
     "CloudFrontDistributionBA64CE3A",
     "DomainName"
    ]
   }
  },
  "CloudFrontUrl": {
   "Description": "CloudFront HTTPS URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Fn::GetAtt": [
        "CloudFrontDistributionBA64CE3A",
        "DomainName"
       ]
      }
     ]
    ]
   }
  },
  "CloudFrontManagementUrl": {
   "Description": "CloudFront management console URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://console.aws.amazon.com/cloudfront/home?region=us-east-1#distribution-settings:",
      {
       "Ref": "CloudFrontDistributionBA64CE3A"
      }
     ]
    ]
   }
  },
  "ApiUrl": {
   "Description": "API Gateway endpoint URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ToyApi351408CF"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ToyApiDeploymentStagedevCCBD374C"
      },
      "/"
     ]
    ]
   }
  },
  "UserPoolId": {
   "Description": "Cognito User Pool ID",
   "Value": {
    "Ref": "UserPool6BA7E5F2"
   }
  },
  "UserPoolClientId": {
   "Description": "Cognito User Pool Client ID",
   "Value": {
    "Ref": "UserPoolClient2F5918F7"
   }
  },
  "TableName": {
   "Description": "DynamoDB table name",
   "Value": {
    "Ref": "ItemsTable5AAC2C46"
   }
  },
  "Environment": {
   "Description": "Deployment environment",
   "Value": "dev"
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}